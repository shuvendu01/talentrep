"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2795],{22795:function(e,t,s){s.d(t,{Z:function(){return v}});var a=s(57437),r=s(2265),l=s(27648),n=s(99376),i=s(57586),o=s(98239),c=s(25466),d=s(92369),m=s(5005),h=s(48736),u=s(33327),x=s(98728),f=s(32489),p=s(58293),g=s(49232),b=s(47692),w=s(66474),j=s(75864);function v(e){let{children:t}=e,s=(0,n.usePathname)(),v=(0,n.useRouter)(),[N,y]=(0,r.useState)(!0),[k,_]=(0,r.useState)(!1),[Z,S]=(0,r.useState)(null),[E,C]=(0,r.useState)(null),[I,R]=(0,r.useState)(0);(0,r.useEffect)(()=>{(async()=>{try{let e=await j.Z.get("/auth/me");S(e.data);let t=await j.Z.get("/profiles/jobseeker/profile");C(t.data);let s=await j.Z.get("/credits/balance");R(s.data.total_credits)}catch(e){console.error("Failed to fetch user:",e)}})()},[]);let P=[{name:"Dashboard",href:"/dashboard",icon:c.Z},{name:"My Profile",href:"/profile",icon:d.Z},{name:"Browse Jobs",href:"/jobs",icon:m.Z},{name:"My Applications",href:"/applications",icon:h.Z},{name:"Verification",href:"/verification",icon:u.Z},{name:"Interview Requests",href:"/interview-requests",icon:u.Z},{name:"Settings",href:"/settings",icon:x.Z}],A=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),v.push("/")},q=()=>(null==E?void 0:E.first_name)&&(null==E?void 0:E.last_name)?"".concat(E.first_name[0]).concat(E.last_name[0]).toUpperCase():(null==Z?void 0:Z.email)?Z.email.substring(0,2).toUpperCase():"JS",L=()=>(null==E?void 0:E.first_name)&&(null==E?void 0:E.last_name)?"".concat(E.first_name," ").concat(E.last_name):(null==Z?void 0:Z.email)||"Job Seeker";return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:[(0,a.jsx)("div",{className:"lg:hidden bg-white/5 backdrop-blur-xl border-b border-white/10 sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,a.jsx)("button",{onClick:()=>_(!k),className:"text-white",children:k?(0,a.jsx)(f.Z,{className:"h-6 w-6"}):(0,a.jsx)(p.Z,{className:"h-6 w-6"})}),(0,a.jsx)(l.default,{href:"/",className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"TalentHub"}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)(l.default,{href:"/credits/transactions",className:"flex items-center gap-1 px-3 py-1 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 text-white"}),(0,a.jsx)("span",{className:"text-sm font-bold text-white",children:I})]})})]})}),(0,a.jsx)(i.M,{children:k&&(0,a.jsx)(o.E.div,{initial:{x:-300},animate:{x:0},exit:{x:-300},className:"lg:hidden fixed inset-y-0 left-0 w-72 bg-black/95 backdrop-blur-xl border-r border-white/10 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(null==E?void 0:E.profile_image_url)?(0,a.jsx)("img",{src:E.profile_image_url,alt:L(),className:"w-12 h-12 rounded-full object-cover"}):(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white font-bold",children:q()}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-white",children:L()}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"Job Seeker"})]})]}),(0,a.jsxs)("nav",{className:"space-y-1",children:[P.map(e=>(0,a.jsx)(l.default,{href:e.href,onClick:()=>_(!1),children:(0,a.jsxs)("div",{className:(0,w.cn)("flex items-center gap-3 px-4 py-3 rounded-lg transition-all",s===e.href?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white":"text-gray-300 hover:bg-white/5"),children:[(0,a.jsx)(e.icon,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:e.name})]})},e.name)),(0,a.jsxs)("button",{onClick:A,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-400 hover:bg-red-500/10",children:[(0,a.jsx)(b.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Logout"})]})]})]})})}),(0,a.jsxs)(o.E.aside,{initial:!1,animate:{width:N?280:80},className:"hidden lg:block fixed left-0 top-0 h-full bg-black/20 backdrop-blur-xl border-r border-white/10 z-40",children:[(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"p-6 border-b border-white/10",children:(0,a.jsxs)(l.default,{href:"/",className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:(0,a.jsx)(m.Z,{className:"h-6 w-6 text-white"})}),N&&(0,a.jsx)(o.E.span,{initial:{opacity:0},animate:{opacity:1},className:"text-xl font-bold text-white",children:"TalentHub"})]})}),Z&&N&&(0,a.jsxs)(o.E.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 border-b border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(null==E?void 0:E.profile_image_url)?(0,a.jsx)("img",{src:E.profile_image_url,alt:L(),className:"w-10 h-10 rounded-full object-cover"}):(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white font-bold text-sm",children:q()}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-white truncate",children:L()}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"Job Seeker"})]})]}),(0,a.jsxs)(l.default,{href:"/credits/transactions",className:"mt-3 flex items-center justify-between px-3 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg",children:[(0,a.jsx)("span",{className:"text-sm text-white font-medium",children:"Credits"}),(0,a.jsx)("span",{className:"text-lg font-bold text-white",children:I})]})]}),(0,a.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:P.map(e=>{let t=s===e.href;return(0,a.jsx)(l.default,{href:e.href,children:(0,a.jsxs)(o.E.div,{whileHover:{x:4},className:(0,w.cn)("flex items-center gap-3 px-4 py-3 rounded-lg transition-all cursor-pointer",t?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/50":"text-gray-300 hover:bg-white/5 hover:text-white"),children:[(0,a.jsx)(e.icon,{className:"h-5 w-5 flex-shrink-0"}),N&&(0,a.jsx)(o.E.span,{initial:{opacity:0},animate:{opacity:1},className:"font-medium",children:e.name})]})},e.name)})}),(0,a.jsx)("div",{className:"p-4 border-t border-white/10",children:(0,a.jsxs)(o.E.button,{whileHover:{x:4},onClick:A,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-all w-full",children:[(0,a.jsx)(b.Z,{className:"h-5 w-5 flex-shrink-0"}),N&&(0,a.jsx)("span",{className:"font-medium",children:"Logout"})]})})]}),(0,a.jsx)("button",{onClick:()=>y(!N),className:"absolute -right-3 top-8 w-6 h-6 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 text-white flex items-center justify-center shadow-lg",children:N?(0,a.jsx)(f.Z,{className:"h-3 w-3"}):(0,a.jsx)(p.Z,{className:"h-3 w-3"})})]}),(0,a.jsx)(o.E.main,{animate:{marginLeft:N?280:80},className:"min-h-screen transition-all hidden lg:block",children:t}),(0,a.jsx)("main",{className:"lg:hidden min-h-screen",children:t})]})}},75864:function(e,t,s){var a=s(83464);let r=window.location.origin?window.location.origin:"https://jobvista-1.preview.emergentagent.com";console.log("API URL:",r);let l=a.Z.create({baseURL:"".concat(r,"/api"),headers:{"Content-Type":"application/json"},withCredentials:!1,timeout:3e4});l.interceptors.request.use(e=>{{let t=localStorage.getItem("authToken");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),l.interceptors.response.use(e=>(console.log("API Response:",e.status,e.config.url),e),async e=>{var t,s;let a=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!a._retry){a._retry=!0;{localStorage.removeItem("authToken"),localStorage.removeItem("user");let e=window.location.pathname;["/auth/login","/auth/register","/auth/verify","/","/auth/forgot-password"].some(t=>e.startsWith(t))||(window.location.href="/auth/login")}}return e.response?console.error("API Error Response:",e.response.status,e.response.data):e.request?(console.error("API No Response:",e.request),console.error("Request URL:",null===(s=e.config)||void 0===s?void 0:s.url)):console.error("API Request Setup Error:",e.message),Promise.reject(e)}),t.Z=l},66474:function(e,t,s){s.d(t,{cn:function(){return l},uf:function(){return n}});var a=s(61994),r=s(53335);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}function n(e){return new Intl.NumberFormat("en-US").format(e)}}}]);