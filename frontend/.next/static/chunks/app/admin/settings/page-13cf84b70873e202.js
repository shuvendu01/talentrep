(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6140],{48828:function(e,t,r){Promise.resolve().then(r.bind(r,88910))},94766:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},60044:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},41671:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},64935:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},83229:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},88906:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},95805:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},88910:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var s=r(85583),a=r(1780),n=r(57437),i=r(2265),o=r(99376),l=r(75864),c=r(90309),d=r(41671),u=r(32489),m=r(98728),h=r(51817),p=r(83229);function f(){let e=(0,o.useRouter)(),[t,r]=(0,i.useState)(null),[f,x]=(0,i.useState)(!0),[g,b]=(0,i.useState)(!1),[y,v]=(0,i.useState)({type:"",text:""}),[w,j]=(0,i.useState)({contact_reveal_cost:1e4,contact_access_duration_days:365,interview_request_cost:5e3,interview_completion_earning:500,interviewer_certification_cost:0,jobseeker_signup_bonus:200,employer_signup_bonus:1e4,interviewer_signup_bonus:500});(0,i.useEffect)(()=>{(async()=>{try{let t=await l.Z.get("/auth/me");if("admin"!==t.data.role){e.push("/dashboard");return}r(t.data);let s=await l.Z.get("/credits/settings");j(s.data)}catch(t){console.error("Failed to fetch data:",t),e.push("/auth/login")}finally{x(!1)}})()},[e]);let N=async e=>{e.preventDefault(),b(!0),v({type:"",text:""});try{await l.Z.put("/credits/settings",w),v({type:"success",text:"Settings saved successfully!"}),setTimeout(()=>v({type:"",text:""}),3e3)}catch(e){var t,r;v({type:"error",text:(null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.detail)||"Failed to save settings"})}finally{b(!1)}},_=(e,t)=>{j((0,a._)((0,s._)({},w),{[e]:parseInt(t)||0}))};return f?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,n.jsx)(c.Z,{children:(0,n.jsxs)("div",{className:"p-8",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold text-white mb-2 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Platform Settings"}),(0,n.jsx)("p",{className:"text-gray-400 mb-8",children:"Configure credit costs, bonuses, and platform parameters"}),(0,n.jsxs)("div",{className:"max-w-4xl",children:[y.text&&(0,n.jsxs)("div",{className:"mb-6 p-4 rounded-lg flex items-start gap-3 backdrop-blur-xl border ".concat("success"===y.type?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20"),children:["success"===y.type?(0,n.jsx)(d.Z,{className:"h-5 w-5 mt-0.5"}):(0,n.jsx)(u.Z,{className:"h-5 w-5 mt-0.5"}),(0,n.jsx)("p",{children:y.text})]}),(0,n.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,n.jsxs)("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[(0,n.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,n.jsx)(m.Z,{className:"h-5 w-5"}),"Contact Reveal Settings"]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cost to Reveal Contact (Credits)"}),(0,n.jsx)("input",{type:"number",value:w.contact_reveal_cost,onChange:e=>_("contact_reveal_cost",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"}),(0,n.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Credits charged to employers to reveal job seeker contact"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Access Duration (Days)"}),(0,n.jsx)("input",{type:"number",value:w.contact_access_duration_days,onChange:e=>_("contact_access_duration_days",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"}),(0,n.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"How long employer has access after purchase (365 = 1 year)"})]})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,n.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,n.jsx)(m.Z,{className:"h-5 w-5"}),"Interview Verification Settings"]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interview Request Cost (Credits)"}),(0,n.jsx)("input",{type:"number",value:w.interview_request_cost,onChange:e=>_("interview_request_cost",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"}),(0,n.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Credits charged to job seekers for interview verification"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interview Completion Earning (Credits)"}),(0,n.jsx)("input",{type:"number",value:w.interview_completion_earning,onChange:e=>_("interview_completion_earning",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"}),(0,n.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Credits earned by interviewers per completed interview"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interviewer Certification Cost (Credits)"}),(0,n.jsx)("input",{type:"number",value:w.interviewer_certification_cost,onChange:e=>_("interviewer_certification_cost",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"}),(0,n.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Credits to become certified interviewer (0 = free)"})]})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,n.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,n.jsx)(m.Z,{className:"h-5 w-5"}),"Signup Bonus Settings"]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Seeker Signup Bonus (Credits)"}),(0,n.jsx)("input",{type:"number",value:w.jobseeker_signup_bonus,onChange:e=>_("jobseeker_signup_bonus",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employer Signup Bonus (Credits)"}),(0,n.jsx)("input",{type:"number",value:w.employer_signup_bonus,onChange:e=>_("employer_signup_bonus",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interviewer Signup Bonus (Credits)"}),(0,n.jsx)("input",{type:"number",value:w.interviewer_signup_bonus,onChange:e=>_("interviewer_signup_bonus",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]})]})]}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)("button",{type:"submit",disabled:g,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-semibold",children:g?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Z,{className:"h-5 w-5 animate-spin"}),"Saving..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z,{className:"h-5 w-5"}),"Save Settings"]})})})]})]})]})})}},90309:function(e,t,r){"use strict";r.d(t,{Z:function(){return N}});var s=r(57437),a=r(2265),n=r(27648),i=r(99376),o=r(98239),l=r(25466),c=r(95805),d=r(88906),u=r(5005),m=r(60044),h=r(49232),p=r(33327),f=r(94766),x=r(64935),g=r(98728),b=r(47692),y=r(32489),v=r(58293),w=r(66474),j=r(75864);function N(e){var t;let{children:r}=e,N=(0,i.usePathname)(),_=(0,i.useRouter)(),[k,Z]=(0,a.useState)(!0),[C,S]=(0,a.useState)(null),[M,I]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{let e=await j.Z.get("/auth/me");if(S(e.data),"jobseeker"===e.data.role){let e=await j.Z.get("/profiles/jobseeker/profile");I(e.data)}else if("employer"===e.data.role){let e=await j.Z.get("/profiles/employer/profile");I(e.data)}else if("interviewer"===e.data.role){let e=await j.Z.get("/profiles/interviewer/profile");I(e.data)}}catch(e){console.error("Failed to fetch user:",e)}})()},[]);let E=[{name:"Dashboard",href:"/admin/dashboard",icon:l.Z},{name:"Users",href:"/admin/users",icon:c.Z},{name:"ACL",href:"/admin/acl",icon:d.Z},{name:"Jobs",href:"/admin/jobs",icon:u.Z},{name:"Companies",href:"/admin/companies",icon:m.Z},{name:"Credits",href:"/admin/credits",icon:h.Z},{name:"Interviews",href:"/admin/interviews",icon:p.Z},{name:"Notifications",href:"/admin/notifications",icon:f.Z},{name:"Custom Code",href:"/admin/custom-code",icon:x.Z},{name:"Settings",href:"/admin/settings",icon:g.Z}],A=()=>(null==M?void 0:M.first_name)&&(null==M?void 0:M.last_name)?"".concat(M.first_name," ").concat(M.last_name):(null==C?void 0:C.email)||"Admin";return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:[(0,s.jsxs)(o.E.aside,{initial:!1,animate:{width:k?280:80},className:"fixed left-0 top-0 h-full bg-black/20 backdrop-blur-xl border-r border-white/10 z-40",children:[(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsx)("div",{className:"p-6 border-b border-white/10",children:(0,s.jsxs)(n.default,{href:"/",className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:(0,s.jsx)(u.Z,{className:"h-6 w-6 text-white"})}),k&&(0,s.jsx)(o.E.span,{initial:{opacity:0},animate:{opacity:1},className:"text-xl font-bold text-white",children:"TalentHub"})]})}),C&&k&&(0,s.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 border-b border-white/10",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(null==M?void 0:M.profile_image_url)?(0,s.jsx)("img",{src:M.profile_image_url,alt:A(),className:"w-10 h-10 rounded-full object-cover"}):(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-sm",children:(null==M?void 0:M.first_name)&&(null==M?void 0:M.last_name)?"".concat(M.first_name[0]).concat(M.last_name[0]).toUpperCase():(null==C?void 0:C.email)?C.email.substring(0,2).toUpperCase():"AD"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-white truncate",children:A()}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:{admin:"Administrator",jobseeker:"Job Seeker",employer:"Employer",interviewer:"Interviewer"}[t=C.role]||t})]})]})}),(0,s.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:E.map(e=>{let t=N===e.href;return(0,s.jsx)(n.default,{href:e.href,children:(0,s.jsxs)(o.E.div,{whileHover:{x:4},className:(0,w.cn)("flex items-center gap-3 px-4 py-3 rounded-lg transition-all cursor-pointer",t?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/50":"text-gray-300 hover:bg-white/5 hover:text-white"),children:[(0,s.jsx)(e.icon,{className:"h-5 w-5 flex-shrink-0"}),k&&(0,s.jsx)(o.E.span,{initial:{opacity:0},animate:{opacity:1},className:"font-medium",children:e.name})]})},e.name)})}),(0,s.jsx)("div",{className:"p-4 border-t border-white/10",children:(0,s.jsxs)(o.E.button,{whileHover:{x:4},onClick:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),_.push("/")},className:"flex items-center gap-3 px-4 py-3 rounded-lg text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-all w-full",children:[(0,s.jsx)(b.Z,{className:"h-5 w-5 flex-shrink-0"}),k&&(0,s.jsx)("span",{className:"font-medium",children:"Logout"})]})})]}),(0,s.jsx)("button",{onClick:()=>Z(!k),className:"absolute -right-3 top-8 w-6 h-6 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 text-white flex items-center justify-center shadow-lg",children:k?(0,s.jsx)(y.Z,{className:"h-3 w-3"}):(0,s.jsx)(v.Z,{className:"h-3 w-3"})})]}),(0,s.jsx)(o.E.main,{animate:{marginLeft:k?280:80},className:"min-h-screen transition-all",children:r})]})}},75864:function(e,t,r){"use strict";var s=r(83464);let a=window.location.origin?window.location.origin:"https://jobvista-1.preview.emergentagent.com";console.log("API URL:",a);let n=s.Z.create({baseURL:"".concat(a,"/api"),headers:{"Content-Type":"application/json"},withCredentials:!1,timeout:3e4});n.interceptors.request.use(e=>{{let t=localStorage.getItem("authToken");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),n.interceptors.response.use(e=>(console.log("API Response:",e.status,e.config.url),e),async e=>{var t,r;let s=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!s._retry){s._retry=!0;{localStorage.removeItem("authToken"),localStorage.removeItem("user");let e=window.location.pathname;["/auth/login","/auth/register","/auth/verify","/","/auth/forgot-password"].some(t=>e.startsWith(t))||(window.location.href="/auth/login")}}return e.response?console.error("API Error Response:",e.response.status,e.response.data):e.request?(console.error("API No Response:",e.request),console.error("Request URL:",null===(r=e.config)||void 0===r?void 0:r.url)):console.error("API Request Setup Error:",e.message),Promise.reject(e)}),t.Z=n},66474:function(e,t,r){"use strict";r.d(t,{cn:function(){return n},uf:function(){return i}});var s=r(61994),a=r(53335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}function i(e){return new Intl.NumberFormat("en-US").format(e)}}},function(e){e.O(0,[216,3464,6084,2971,2117,1744],function(){return e(e.s=48828)}),_N_E=e.O()}]);