(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7198],{87727:function(e,t,r){Promise.resolve().then(r.bind(r,58418))},94766:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},60044:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},64935:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},66337:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},99397:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},73247:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},88906:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},15868:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},18930:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},95805:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},58418:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var a=r(57437),i=r(2265),s=r(98239),n=r(90309),o=r(99397),l=r(73247),c=r(66337),d=r(15868),u=r(18930),h=r(66474);let m=[{id:1,name:"create_job",description:"Create new job postings",resource:"jobs",action:"create"},{id:2,name:"edit_job",description:"Edit existing job postings",resource:"jobs",action:"update"},{id:3,name:"delete_job",description:"Delete job postings",resource:"jobs",action:"delete"},{id:4,name:"view_jobs",description:"View job listings",resource:"jobs",action:"read"},{id:5,name:"apply_job",description:"Apply to job postings",resource:"applications",action:"create"},{id:6,name:"view_applications",description:"View job applications",resource:"applications",action:"read"},{id:7,name:"reveal_contact",description:"Reveal job seeker contact information",resource:"contacts",action:"read"},{id:8,name:"request_interview",description:"Request interview verification",resource:"interviews",action:"create"},{id:9,name:"accept_interview",description:"Accept interview requests",resource:"interviews",action:"update"},{id:10,name:"submit_rating",description:"Submit interview ratings",resource:"ratings",action:"create"},{id:11,name:"edit_profile",description:"Edit user profile",resource:"profiles",action:"update"},{id:12,name:"view_profile",description:"View user profiles",resource:"profiles",action:"read"}];function p(){let[e,t]=(0,i.useState)(m),[r,p]=(0,i.useState)(""),x=e.filter(e=>e.name.toLowerCase().includes(r.toLowerCase())||e.description.toLowerCase().includes(r.toLowerCase())),f=e=>{switch(e){case"create":return"from-green-500 to-emerald-500";case"read":return"from-blue-500 to-cyan-500";case"update":return"from-yellow-500 to-orange-500";case"delete":return"from-red-500 to-pink-500";default:return"from-gray-500 to-gray-600"}};return(0,a.jsx)(n.Z,{children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-white mb-2 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Permissions"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Manage system permissions and actions"})]}),(0,a.jsxs)("button",{className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg font-semibold hover:from-blue-600 hover:to-cyan-600 transition-all flex items-center gap-2 shadow-lg shadow-blue-500/50",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5"}),"Add Permission"]})]}),(0,a.jsx)("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 mb-6",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,a.jsx)("input",{type:"text",placeholder:"Search permissions...",value:r,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,a.jsx)("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{className:"bg-white/5",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Permission"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Description"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Resource"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Action"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-white/10",children:x.map((e,t)=>(0,a.jsxs)(s.E.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*t},className:"hover:bg-white/5",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 text-blue-400"}),(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:e.name})]})}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-300",children:e.description}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 bg-white/10 rounded text-xs text-gray-300",children:e.resource})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:(0,h.cn)("px-2 py-1 rounded-full text-xs font-semibold text-white","bg-gradient-to-r ".concat(f(e.action))),children:e.action})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{className:"p-1 hover:bg-white/10 rounded transition-all",children:(0,a.jsx)(d.Z,{className:"h-4 w-4 text-gray-400"})}),(0,a.jsx)("button",{className:"p-1 hover:bg-red-500/10 rounded transition-all",children:(0,a.jsx)(u.Z,{className:"h-4 w-4 text-red-400"})})]})})]},e.id))})]})})]})})}},90309:function(e,t,r){"use strict";r.d(t,{Z:function(){return N}});var a=r(57437),i=r(2265),s=r(27648),n=r(99376),o=r(98239),l=r(25466),c=r(95805),d=r(88906),u=r(5005),h=r(60044),m=r(49232),p=r(33327),x=r(94766),f=r(64935),y=r(98728),g=r(47692),b=r(32489),w=r(58293),v=r(66474),j=r(75864);function N(e){var t;let{children:r}=e,N=(0,n.usePathname)(),k=(0,n.useRouter)(),[Z,_]=(0,i.useState)(!0),[M,C]=(0,i.useState)(null),[A,E]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{try{let e=await j.Z.get("/auth/me");if(C(e.data),"jobseeker"===e.data.role){let e=await j.Z.get("/profiles/jobseeker/profile");E(e.data)}else if("employer"===e.data.role){let e=await j.Z.get("/profiles/employer/profile");E(e.data)}else if("interviewer"===e.data.role){let e=await j.Z.get("/profiles/interviewer/profile");E(e.data)}}catch(e){console.error("Failed to fetch user:",e)}})()},[]);let S=[{name:"Dashboard",href:"/admin/dashboard",icon:l.Z},{name:"Users",href:"/admin/users",icon:c.Z},{name:"ACL",href:"/admin/acl",icon:d.Z},{name:"Jobs",href:"/admin/jobs",icon:u.Z},{name:"Companies",href:"/admin/companies",icon:h.Z},{name:"Credits",href:"/admin/credits",icon:m.Z},{name:"Interviews",href:"/admin/interviews",icon:p.Z},{name:"Notifications",href:"/admin/notifications",icon:x.Z},{name:"Custom Code",href:"/admin/custom-code",icon:f.Z},{name:"Settings",href:"/admin/settings",icon:y.Z}],I=()=>(null==A?void 0:A.first_name)&&(null==A?void 0:A.last_name)?"".concat(A.first_name," ").concat(A.last_name):(null==M?void 0:M.email)||"Admin";return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:[(0,a.jsxs)(o.E.aside,{initial:!1,animate:{width:Z?280:80},className:"fixed left-0 top-0 h-full bg-black/20 backdrop-blur-xl border-r border-white/10 z-40",children:[(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"p-6 border-b border-white/10",children:(0,a.jsxs)(s.default,{href:"/",className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:(0,a.jsx)(u.Z,{className:"h-6 w-6 text-white"})}),Z&&(0,a.jsx)(o.E.span,{initial:{opacity:0},animate:{opacity:1},className:"text-xl font-bold text-white",children:"TalentHub"})]})}),M&&Z&&(0,a.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 border-b border-white/10",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(null==A?void 0:A.profile_image_url)?(0,a.jsx)("img",{src:A.profile_image_url,alt:I(),className:"w-10 h-10 rounded-full object-cover"}):(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-sm",children:(null==A?void 0:A.first_name)&&(null==A?void 0:A.last_name)?"".concat(A.first_name[0]).concat(A.last_name[0]).toUpperCase():(null==M?void 0:M.email)?M.email.substring(0,2).toUpperCase():"AD"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-white truncate",children:I()}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:{admin:"Administrator",jobseeker:"Job Seeker",employer:"Employer",interviewer:"Interviewer"}[t=M.role]||t})]})]})}),(0,a.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:S.map(e=>{let t=N===e.href;return(0,a.jsx)(s.default,{href:e.href,children:(0,a.jsxs)(o.E.div,{whileHover:{x:4},className:(0,v.cn)("flex items-center gap-3 px-4 py-3 rounded-lg transition-all cursor-pointer",t?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/50":"text-gray-300 hover:bg-white/5 hover:text-white"),children:[(0,a.jsx)(e.icon,{className:"h-5 w-5 flex-shrink-0"}),Z&&(0,a.jsx)(o.E.span,{initial:{opacity:0},animate:{opacity:1},className:"font-medium",children:e.name})]})},e.name)})}),(0,a.jsx)("div",{className:"p-4 border-t border-white/10",children:(0,a.jsxs)(o.E.button,{whileHover:{x:4},onClick:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),k.push("/")},className:"flex items-center gap-3 px-4 py-3 rounded-lg text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-all w-full",children:[(0,a.jsx)(g.Z,{className:"h-5 w-5 flex-shrink-0"}),Z&&(0,a.jsx)("span",{className:"font-medium",children:"Logout"})]})})]}),(0,a.jsx)("button",{onClick:()=>_(!Z),className:"absolute -right-3 top-8 w-6 h-6 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 text-white flex items-center justify-center shadow-lg",children:Z?(0,a.jsx)(b.Z,{className:"h-3 w-3"}):(0,a.jsx)(w.Z,{className:"h-3 w-3"})})]}),(0,a.jsx)(o.E.main,{animate:{marginLeft:Z?280:80},className:"min-h-screen transition-all",children:r})]})}},75864:function(e,t,r){"use strict";var a=r(83464);let i=window.location.origin?window.location.origin:"https://jobvista-1.preview.emergentagent.com";console.log("API URL:",i);let s=a.Z.create({baseURL:"".concat(i,"/api"),headers:{"Content-Type":"application/json"},withCredentials:!1,timeout:3e4});s.interceptors.request.use(e=>{{let t=localStorage.getItem("authToken");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),s.interceptors.response.use(e=>(console.log("API Response:",e.status,e.config.url),e),async e=>{var t,r;let a=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!a._retry){a._retry=!0;{localStorage.removeItem("authToken"),localStorage.removeItem("user");let e=window.location.pathname;["/auth/login","/auth/register","/auth/verify","/","/auth/forgot-password"].some(t=>e.startsWith(t))||(window.location.href="/auth/login")}}return e.response?console.error("API Error Response:",e.response.status,e.response.data):e.request?(console.error("API No Response:",e.request),console.error("Request URL:",null===(r=e.config)||void 0===r?void 0:r.url)):console.error("API Request Setup Error:",e.message),Promise.reject(e)}),t.Z=s},66474:function(e,t,r){"use strict";r.d(t,{cn:function(){return s},uf:function(){return n}});var a=r(61994),i=r(53335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.m6)((0,a.W)(t))}function n(e){return new Intl.NumberFormat("en-US").format(e)}}},function(e){e.O(0,[216,3464,6084,2971,2117,1744],function(){return e(e.s=87727)}),_N_E=e.O()}]);