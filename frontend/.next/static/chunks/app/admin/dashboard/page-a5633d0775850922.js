(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8427],{76933:function(e,t,a){Promise.resolve().then(a.bind(a,1552))},94766:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},60044:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},64935:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},88906:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},70525:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},95805:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},1552:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var s=a(57437),i=a(2265),r=a(99376),n=a(98239),l=a(75864),o=a(90309),d=a(79205);let c=(0,d.Z)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),m=(0,d.Z)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var h=a(95805),u=a(5005),x=a(49232),p=a(33327);let f=(0,d.Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var g=a(70525),b=a(66474);let v=e=>{let{title:t,value:a,icon:i,trend:r,trendValue:l,delay:o=0,gradient:d}=e;return(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o},className:"relative group",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r opacity-0 group-hover:opacity-100 transition-opacity blur-xl",style:{background:d}}),(0,s.jsxs)("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 hover:bg-white/15 transition-all",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsx)("div",{className:(0,b.cn)("w-12 h-12 rounded-xl flex items-center justify-center","bg-gradient-to-br shadow-lg"),style:{background:d},children:(0,s.jsx)(i,{className:"h-6 w-6 text-white"})}),r&&(0,s.jsxs)("div",{className:(0,b.cn)("flex items-center gap-1 text-sm font-semibold px-2 py-1 rounded-lg","up"===r?"text-green-400 bg-green-500/10":"text-red-400 bg-red-500/10"),children:["up"===r?(0,s.jsx)(c,{className:"h-3 w-3"}):(0,s.jsx)(m,{className:"h-3 w-3"}),l]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h3",{className:"text-3xl font-bold text-white",children:a}),(0,s.jsx)("p",{className:"text-sm text-gray-300",children:t})]})]})]})},w=e=>{let{title:t,description:a,icon:i,href:r,delay:l=0}=e;return(0,s.jsx)(n.E.a,{href:r,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:l},whileHover:{scale:1.02,y:-2},className:"block bg-white/5 backdrop-blur-xl border border-white/10 rounded-xl p-6 hover:bg-white/10 transition-all group",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center flex-shrink-0 group-hover:shadow-lg group-hover:shadow-blue-500/50 transition-all",children:(0,s.jsx)(i,{className:"h-5 w-5 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-semibold text-white mb-1",children:t}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:a})]})]})})};function y(){let e=(0,r.useRouter)(),[t,a]=(0,i.useState)(null),[d,m]=(0,i.useState)({totalUsers:0,totalJobs:0,totalCredits:0,activeInterviews:0,newUsersThisWeek:0,pendingVerifications:0}),[y,j]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{(async()=>{try{var t,s;let i=await l.Z.get("/auth/me");if("admin"!==i.data.role){e.push("/dashboard");return}a(i.data);let[r,n,o,d]=await Promise.all([l.Z.get("/admin/users?page=1&limit=1"),l.Z.get("/jobs/jobs?page=1&limit=1"),l.Z.get("/credits/admin/transactions?page=1&limit=1"),l.Z.get("/interviews/admin/requests")]);m({totalUsers:r.data.total||0,totalJobs:n.data.total||0,totalCredits:o.data.total||0,activeInterviews:(null===(t=d.data.requests)||void 0===t?void 0:t.filter(e=>"ASSIGNED"===e.status).length)||0,newUsersThisWeek:r.data.total||0,pendingVerifications:(null===(s=d.data.requests)||void 0===s?void 0:s.filter(e=>"PENDING"===e.status).length)||0})}catch(t){e.push("/auth/login")}finally{j(!1)}})()},[e]),y)?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 flex items-center justify-center",children:(0,s.jsx)(n.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full"})}):(0,s.jsx)(o.Z,{children:(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-white mb-2 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Dashboard Overview"}),(0,s.jsxs)("p",{className:"text-gray-400",children:["Welcome back, ",null==t?void 0:t.email]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)(v,{title:"Total Users",value:(0,b.uf)(d.totalUsers),icon:h.Z,trend:"up",trendValue:"+12%",delay:0,gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}),(0,s.jsx)(v,{title:"Active Jobs",value:(0,b.uf)(d.totalJobs),icon:u.Z,trend:"up",trendValue:"+8%",delay:.1,gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}),(0,s.jsx)(v,{title:"Total Credits",value:(0,b.uf)(d.totalCredits),icon:x.Z,trend:"up",trendValue:"+15%",delay:.2,gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"}),(0,s.jsx)(v,{title:"Active Interviews",value:(0,b.uf)(d.activeInterviews),icon:p.Z,trend:"down",trendValue:"-3%",delay:.3,gradient:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,s.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,s.jsx)(f,{className:"h-5 w-5"}),"Recent Activity"]})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-all",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-400 mt-2"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm text-white",children:"New user registered"}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:"2 minutes ago"})]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-all",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm text-white",children:"Job posted by TechCorp"}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:"15 minutes ago"})]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-all",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-purple-400 mt-2"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm text-white",children:"Interview completed"}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:"1 hour ago"})]})]})]})]}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,s.jsx)(g.Z,{className:"h-5 w-5"}),"Quick Actions"]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(w,{title:"Manage Users",description:"View and manage all platform users",icon:h.Z,href:"/admin/users",delay:.6}),(0,s.jsx)(w,{title:"Platform Settings",description:"Configure credit costs and bonuses",icon:f,href:"/admin/settings",delay:.7}),(0,s.jsx)(w,{title:"Create Notification",description:"Send announcements to users",icon:f,href:"/admin/notifications",delay:.8})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"New Users This Week"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-white mb-2",children:d.newUsersThisWeek}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-green-400",children:[(0,s.jsx)(c,{className:"h-4 w-4 mr-1"}),"+23% from last week"]})]}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Pending Verifications"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-white mb-2",children:d.pendingVerifications}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-yellow-400",children:[(0,s.jsx)(f,{className:"h-4 w-4 mr-1"}),"Requires attention"]})]}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Revenue This Month"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-white mb-2",children:"$12,450"}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-green-400",children:[(0,s.jsx)(c,{className:"h-4 w-4 mr-1"}),"+18% from last month"]})]})]})]})})}},90309:function(e,t,a){"use strict";a.d(t,{Z:function(){return N}});var s=a(57437),i=a(2265),r=a(27648),n=a(99376),l=a(98239),o=a(25466),d=a(95805),c=a(88906),m=a(5005),h=a(60044),u=a(49232),x=a(33327),p=a(94766),f=a(64935),g=a(98728),b=a(47692),v=a(32489),w=a(58293),y=a(66474),j=a(75864);function N(e){var t;let{children:a}=e,N=(0,n.usePathname)(),k=(0,n.useRouter)(),[Z,E]=(0,i.useState)(!0),[C,M]=(0,i.useState)(null),[I,_]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{try{let e=await j.Z.get("/auth/me");if(M(e.data),"jobseeker"===e.data.role){let e=await j.Z.get("/profiles/jobseeker/profile");_(e.data)}else if("employer"===e.data.role){let e=await j.Z.get("/profiles/employer/profile");_(e.data)}else if("interviewer"===e.data.role){let e=await j.Z.get("/profiles/interviewer/profile");_(e.data)}}catch(e){console.error("Failed to fetch user:",e)}})()},[]);let A=[{name:"Dashboard",href:"/admin/dashboard",icon:o.Z},{name:"Users",href:"/admin/users",icon:d.Z},{name:"ACL",href:"/admin/acl",icon:c.Z},{name:"Jobs",href:"/admin/jobs",icon:m.Z},{name:"Companies",href:"/admin/companies",icon:h.Z},{name:"Credits",href:"/admin/credits",icon:u.Z},{name:"Interviews",href:"/admin/interviews",icon:x.Z},{name:"Notifications",href:"/admin/notifications",icon:p.Z},{name:"Custom Code",href:"/admin/custom-code",icon:f.Z},{name:"Settings",href:"/admin/settings",icon:g.Z}],S=()=>(null==I?void 0:I.first_name)&&(null==I?void 0:I.last_name)?"".concat(I.first_name," ").concat(I.last_name):(null==C?void 0:C.email)||"Admin";return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:[(0,s.jsxs)(l.E.aside,{initial:!1,animate:{width:Z?280:80},className:"fixed left-0 top-0 h-full bg-black/20 backdrop-blur-xl border-r border-white/10 z-40",children:[(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsx)("div",{className:"p-6 border-b border-white/10",children:(0,s.jsxs)(r.default,{href:"/",className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:(0,s.jsx)(m.Z,{className:"h-6 w-6 text-white"})}),Z&&(0,s.jsx)(l.E.span,{initial:{opacity:0},animate:{opacity:1},className:"text-xl font-bold text-white",children:"TalentHub"})]})}),C&&Z&&(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 border-b border-white/10",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(null==I?void 0:I.profile_image_url)?(0,s.jsx)("img",{src:I.profile_image_url,alt:S(),className:"w-10 h-10 rounded-full object-cover"}):(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-sm",children:(null==I?void 0:I.first_name)&&(null==I?void 0:I.last_name)?"".concat(I.first_name[0]).concat(I.last_name[0]).toUpperCase():(null==C?void 0:C.email)?C.email.substring(0,2).toUpperCase():"AD"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-white truncate",children:S()}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:{admin:"Administrator",jobseeker:"Job Seeker",employer:"Employer",interviewer:"Interviewer"}[t=C.role]||t})]})]})}),(0,s.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:A.map(e=>{let t=N===e.href;return(0,s.jsx)(r.default,{href:e.href,children:(0,s.jsxs)(l.E.div,{whileHover:{x:4},className:(0,y.cn)("flex items-center gap-3 px-4 py-3 rounded-lg transition-all cursor-pointer",t?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/50":"text-gray-300 hover:bg-white/5 hover:text-white"),children:[(0,s.jsx)(e.icon,{className:"h-5 w-5 flex-shrink-0"}),Z&&(0,s.jsx)(l.E.span,{initial:{opacity:0},animate:{opacity:1},className:"font-medium",children:e.name})]})},e.name)})}),(0,s.jsx)("div",{className:"p-4 border-t border-white/10",children:(0,s.jsxs)(l.E.button,{whileHover:{x:4},onClick:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),k.push("/")},className:"flex items-center gap-3 px-4 py-3 rounded-lg text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-all w-full",children:[(0,s.jsx)(b.Z,{className:"h-5 w-5 flex-shrink-0"}),Z&&(0,s.jsx)("span",{className:"font-medium",children:"Logout"})]})})]}),(0,s.jsx)("button",{onClick:()=>E(!Z),className:"absolute -right-3 top-8 w-6 h-6 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 text-white flex items-center justify-center shadow-lg",children:Z?(0,s.jsx)(v.Z,{className:"h-3 w-3"}):(0,s.jsx)(w.Z,{className:"h-3 w-3"})})]}),(0,s.jsx)(l.E.main,{animate:{marginLeft:Z?280:80},className:"min-h-screen transition-all",children:a})]})}},75864:function(e,t,a){"use strict";var s=a(83464);let i=window.location.origin?window.location.origin:"https://jobvista-1.preview.emergentagent.com";console.log("API URL:",i);let r=s.Z.create({baseURL:"".concat(i,"/api"),headers:{"Content-Type":"application/json"},withCredentials:!1,timeout:3e4});r.interceptors.request.use(e=>{{let t=localStorage.getItem("authToken");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),r.interceptors.response.use(e=>(console.log("API Response:",e.status,e.config.url),e),async e=>{var t,a;let s=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!s._retry){s._retry=!0;{localStorage.removeItem("authToken"),localStorage.removeItem("user");let e=window.location.pathname;["/auth/login","/auth/register","/auth/verify","/","/auth/forgot-password"].some(t=>e.startsWith(t))||(window.location.href="/auth/login")}}return e.response?console.error("API Error Response:",e.response.status,e.response.data):e.request?(console.error("API No Response:",e.request),console.error("Request URL:",null===(a=e.config)||void 0===a?void 0:a.url)):console.error("API Request Setup Error:",e.message),Promise.reject(e)}),t.Z=r},66474:function(e,t,a){"use strict";a.d(t,{cn:function(){return r},uf:function(){return n}});var s=a(61994),i=a(53335);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.m6)((0,s.W)(t))}function n(e){return new Intl.NumberFormat("en-US").format(e)}}},function(e){e.O(0,[216,3464,6084,2971,2117,1744],function(){return e(e.s=76933)}),_N_E=e.O()}]);