(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7023],{27703:function(e,t,s){Promise.resolve().then(s.bind(s,33935))},33327:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},5005:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},31047:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},41671:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},95252:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},42208:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},83774:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},99397:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},18930:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},95805:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},32489:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},99376:function(e,t,s){"use strict";var a=s(35475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},33935:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(57437),r=s(2265),l=s(99376),i=s(75864),n=s(27648),c=s(99397),o=s(41671),d=s(32489),x=s(5005),h=s(95805),m=s(42208),u=s(83774),p=s(95252),y=s(31047),g=s(33327),b=s(18930);function f(){let e=(0,l.useRouter)(),[t,s]=(0,r.useState)(null),[f,j]=(0,r.useState)([]),[v,N]=(0,r.useState)(!0),[w,k]=(0,r.useState)({type:"",text:""}),[Z,_]=(0,r.useState)(null),[P,M]=(0,r.useState)(!1),[S,A]=(0,r.useState)(null),[q,R]=(0,r.useState)([]),[F,T]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{let t=await i.Z.get("/auth/me");if("employer"!==t.data.role){e.push("/dashboard");return}s(t.data),await C()}catch(t){console.error("Failed to fetch data:",t),e.push("/auth/login")}finally{N(!1)}})()},[e]);let C=async()=>{try{let e=await i.Z.get("/jobs/my-jobs");j(e.data||[])}catch(e){console.error("Failed to fetch jobs:",e),k({type:"error",text:"Failed to load jobs"})}},I=async e=>{if(confirm("Are you sure you want to delete this job? This action cannot be undone.")){_(e),k({type:"",text:""});try{await i.Z.delete("/jobs/jobs/".concat(e)),k({type:"success",text:"Job deleted successfully"}),await C(),setTimeout(()=>k({type:"",text:""}),3e3)}catch(e){var t,s;k({type:"error",text:(null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.detail)||"Failed to delete job"})}finally{_(null)}}},J=async e=>{A(e),M(!0),T(!0);try{let t=await i.Z.get("/jobs/applications/job/".concat(e.id));R(t.data||[])}catch(e){console.error("Failed to fetch applications:",e),k({type:"error",text:"Failed to load applications"})}finally{T(!1)}},z=e=>({"full-time":"Full Time","part-time":"Part Time",contract:"Contract",internship:"Internship",freelance:"Freelance"})[e]||e,D=e=>({onsite:"On-site",remote:"Remote",hybrid:"Hybrid"})[e]||e,E=(e,t)=>e&&t?"$".concat((e/1e3).toFixed(0),"k - $").concat((t/1e3).toFixed(0),"k"):e?"$".concat((e/1e3).toFixed(0),"k+"):"Not specified",H=e=>0===e?"Today":1===e?"Yesterday":e<7?"".concat(e," days ago"):e<30?"".concat(Math.floor(e/7)," weeks ago"):"".concat(Math.floor(e/30)," months ago"),L=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return v?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsx)(n.default,{href:"/",className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"TalentHub"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(n.default,{href:"/employer/dashboard",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Dashboard"}),(0,a.jsx)(n.default,{href:"/employer/profile",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Profile"}),(0,a.jsxs)(n.default,{href:"/post-job",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),"Post Job"]})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Job Postings"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage your job listings and view applications"})]}),w.text&&(0,a.jsxs)("div",{className:"mb-6 p-4 rounded-lg flex items-start gap-3 ".concat("success"===w.type?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:["success"===w.type?(0,a.jsx)(o.Z,{className:"h-5 w-5 mt-0.5"}):(0,a.jsx)(d.Z,{className:"h-5 w-5 mt-0.5"}),(0,a.jsx)("p",{children:w.text})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-600",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Jobs"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:f.length})]}),(0,a.jsx)(x.Z,{className:"h-12 w-12 text-blue-600 opacity-20"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-600",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Active"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:f.filter(e=>"active"===e.status).length})]}),(0,a.jsx)(o.Z,{className:"h-12 w-12 text-green-600 opacity-20"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-600",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Applications"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:f.reduce((e,t)=>e+(t.applications_count||0),0)})]}),(0,a.jsx)(h.Z,{className:"h-12 w-12 text-purple-600 opacity-20"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-orange-600",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Views"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:f.reduce((e,t)=>e+(t.views_count||0),0)})]}),(0,a.jsx)(m.Z,{className:"h-12 w-12 text-orange-600 opacity-20"})]})})]}),0===f.length?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[(0,a.jsx)(x.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No job postings yet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Create your first job posting to start receiving applications"}),(0,a.jsxs)(n.default,{href:"/post-job",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5"}),"Post a Job"]})]}):(0,a.jsx)("div",{className:"space-y-4",children:f.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow border border-gray-200",children:(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)(n.default,{href:"/jobs/".concat(e.id),className:"text-xl font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:e.job_title}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("active"===e.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:"active"===e.status?"Active":"Inactive"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-gray-600 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:e.location})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsxs)("span",{children:[z(e.job_type)," â€¢ ",D(e.work_mode)]})]}),e.min_salary&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:E(e.min_salary,e.max_salary)})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsxs)("span",{children:["Posted ",H(e.freshness_days)]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsxs)("span",{children:[e.views_count||0," views"]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsxs)("span",{children:[e.applications_count||0," applications"]})]})]}),e.required_skills&&e.required_skills.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.required_skills.slice(0,5).map((e,t)=>(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs font-medium",children:e},t)),e.required_skills.length>5&&(0,a.jsxs)("span",{className:"px-2 py-1 bg-gray-50 text-gray-600 rounded text-xs",children:["+",e.required_skills.length-5," more"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 lg:min-w-[180px]",children:[(0,a.jsxs)("button",{onClick:()=>J(e),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-sm font-semibold",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"}),"View Applications"]}),(0,a.jsxs)(n.default,{href:"/employer/ats-ranking?job_id=".concat(e.id),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:opacity-90 transition-all flex items-center justify-center gap-2 text-sm font-semibold",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4"}),"ATS Ranking"]}),(0,a.jsxs)(n.default,{href:"/jobs/".concat(e.id),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 text-sm font-semibold",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"}),"View Job"]}),(0,a.jsx)("button",{onClick:()=>I(e.id),disabled:Z===e.id,className:"px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors flex items-center justify-center gap-2 text-sm font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:Z===e.id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}),"Deleting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.Z,{className:"h-4 w-4"}),"Delete"]})})]})]})})},e.id))})]}),P&&S&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"sticky top-0 bg-white border-b p-6 z-10",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:["Applications for ",S.job_title]}),(0,a.jsxs)("p",{className:"text-gray-600",children:[q.length," ",1===q.length?"application":"applications"]})]}),(0,a.jsx)("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(d.Z,{className:"h-6 w-6"})})]})}),(0,a.jsx)("div",{className:"p-6",children:F?(0,a.jsx)("div",{className:"flex justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):0===q.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(h.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No applications yet"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Applications will appear here when job seekers apply"})]}):(0,a.jsx)("div",{className:"space-y-4",children:q.map(e=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900",children:["Job Seeker ID: ",e.job_seeker_id]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Applied on ",L(e.applied_at)]})]}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("pending"===e.status?"bg-yellow-100 text-yellow-700":"accepted"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.status})]}),e.cover_letter&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Cover Letter:"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 whitespace-pre-line",children:e.cover_letter})]})]},e.id))})})]})})]})}},75864:function(e,t,s){"use strict";var a=s(83464);let r=window.location.origin?window.location.origin:"https://jobvista-1.preview.emergentagent.com";console.log("API URL:",r);let l=a.Z.create({baseURL:"".concat(r,"/api"),headers:{"Content-Type":"application/json"},withCredentials:!1,timeout:3e4});l.interceptors.request.use(e=>{{let t=localStorage.getItem("authToken");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),l.interceptors.response.use(e=>(console.log("API Response:",e.status,e.config.url),e),async e=>{var t,s;let a=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!a._retry){a._retry=!0;{localStorage.removeItem("authToken"),localStorage.removeItem("user");let e=window.location.pathname;["/auth/login","/auth/register","/auth/verify","/","/auth/forgot-password"].some(t=>e.startsWith(t))||(window.location.href="/auth/login")}}return e.response?console.error("API Error Response:",e.response.status,e.response.data):e.request?(console.error("API No Response:",e.request),console.error("Request URL:",null===(s=e.config)||void 0===s?void 0:s.url)):console.error("API Request Setup Error:",e.message),Promise.reject(e)}),t.Z=l}},function(e){e.O(0,[216,3464,2971,2117,1744],function(){return e(e.s=27703)}),_N_E=e.O()}]);