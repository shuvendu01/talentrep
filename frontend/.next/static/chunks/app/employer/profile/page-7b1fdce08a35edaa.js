(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{97642:function(e,t,a){Promise.resolve().then(a.bind(a,45297))},60044:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},41671:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},51817:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},83229:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},73247:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},32489:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},99376:function(e,t,a){"use strict";var s=a(35475);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},45297:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var s=a(85583),r=a(1780),n=a(57437),o=a(2265),l=a(99376),i=a(75864),c=a(51817),d=a(60044),u=a(41671),p=a(32489),m=a(73247),h=a(83229),y=a(27648);function g(){let e=(0,l.useRouter)(),[t,a]=(0,o.useState)(null),[g,x]=(0,o.useState)(null),[b,f]=(0,o.useState)(!0),[v,j]=(0,o.useState)(!1),[_,w]=(0,o.useState)({type:"",text:""}),[N,k]=(0,o.useState)(!1),[Z,C]=(0,o.useState)([]),[P,S]=(0,o.useState)(!1),[M,z]=(0,o.useState)({company_name:"",location:"",contact_person_name:"",contact_person_designation:"",company_website:"",company_size:"",industry:"",about:""});(0,o.useEffect)(()=>{R()},[]);let R=async()=>{try{let s=await i.Z.get("/auth/me");if(a(s.data),"employer"!==s.data.role){e.push("/dashboard");return}try{let e=await i.Z.get("/profiles/employer/profile");x(e.data),z({company_name:e.data.company_name||"",location:e.data.location||"",contact_person_name:e.data.contact_person_name||"",contact_person_designation:e.data.contact_person_designation||"",company_website:e.data.company_website||"",company_size:e.data.company_size||"",industry:e.data.industry||"",about:e.data.about||""})}catch(e){var t;(null===(t=e.response)||void 0===t?void 0:t.status)===404&&k(!0)}}catch(t){e.push("/auth/login")}finally{f(!1)}},I=async e=>{if(e.length<2){C([]);return}try{let t=await i.Z.get("/profiles/companies/suggest?query=".concat(encodeURIComponent(e)));C(t.data.companies||[])}catch(e){console.error("Failed to fetch company suggestions:",e)}},q=e=>{z((0,r._)((0,s._)({},M),{company_name:e})),I(e),S(!0)},A=e=>{z((0,r._)((0,s._)({},M),{company_name:e})),S(!1),C([])},E=async e=>{e.preventDefault(),j(!0),w({type:"",text:""});try{g?(await i.Z.put("/profiles/employer/profile",M),w({type:"success",text:"Profile updated successfully!"})):(await i.Z.post("/profiles/employer/profile",M),w({type:"success",text:"Profile created successfully!"})),k(!1),R()}catch(e){var t,a;w({type:"error",text:(null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.detail)||"Failed to save profile"})}finally{j(!1)}};return b?(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsx)(c.Z,{className:"h-12 w-12 animate-spin text-purple-600"})}):(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)("header",{className:"bg-white border-b",children:(0,n.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,n.jsxs)(y.default,{href:"/employer/dashboard",className:"flex items-center space-x-2",children:[(0,n.jsx)(d.Z,{className:"h-8 w-8 text-purple-600"}),(0,n.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"TalentHub"})]}),(0,n.jsx)(y.default,{href:"/employer/dashboard",className:"text-gray-600 hover:text-purple-600 transition-colors",children:"Back to Dashboard"})]})}),(0,n.jsx)("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-8",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Company Profile"}),g&&!N&&(0,n.jsx)("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Edit Profile"})]}),_.text&&(0,n.jsxs)("div",{className:"mb-6 p-4 rounded-lg flex items-center space-x-2 ".concat("success"===_.type?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:["success"===_.type?(0,n.jsx)(u.Z,{className:"h-5 w-5"}):(0,n.jsx)(p.Z,{className:"h-5 w-5"}),(0,n.jsx)("span",{children:_.text})]}),(0,n.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{type:"text",required:!0,disabled:!N,value:M.company_name,onChange:e=>q(e.target.value),onFocus:()=>M.company_name.length>=2&&S(!0),onBlur:()=>setTimeout(()=>S(!1),200),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Start typing company name..."}),N&&(0,n.jsx)(m.Z,{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400"})]}),N&&P&&Z.length>0&&(0,n.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Z.map((e,t)=>(0,n.jsxs)("button",{type:"button",onClick:()=>A(e.name),className:"w-full px-4 py-3 text-left hover:bg-purple-50 transition-colors border-b last:border-b-0",children:[(0,n.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,n.jsx)("div",{className:"text-xs text-gray-500 capitalize",children:e.category})]},t))})]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),(0,n.jsx)("input",{type:"text",required:!0,disabled:!N,value:M.location,onChange:e=>z((0,r._)((0,s._)({},M),{location:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Mumbai, India"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person Name *"}),(0,n.jsx)("input",{type:"text",required:!0,disabled:!N,value:M.contact_person_name,onChange:e=>z((0,r._)((0,s._)({},M),{contact_person_name:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",placeholder:"John Doe"})]})]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Designation"}),(0,n.jsx)("input",{type:"text",disabled:!N,value:M.contact_person_designation,onChange:e=>z((0,r._)((0,s._)({},M),{contact_person_designation:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",placeholder:"HR Manager"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Website"}),(0,n.jsx)("input",{type:"url",disabled:!N,value:M.company_website,onChange:e=>z((0,r._)((0,s._)({},M),{company_website:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",placeholder:"https://company.com"})]})]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Size"}),(0,n.jsxs)("select",{disabled:!N,value:M.company_size,onChange:e=>z((0,r._)((0,s._)({},M),{company_size:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",children:[(0,n.jsx)("option",{value:"",children:"Select size"}),(0,n.jsx)("option",{value:"1-10",children:"1-10 employees"}),(0,n.jsx)("option",{value:"11-50",children:"11-50 employees"}),(0,n.jsx)("option",{value:"51-200",children:"51-200 employees"}),(0,n.jsx)("option",{value:"201-500",children:"201-500 employees"}),(0,n.jsx)("option",{value:"501-1000",children:"501-1000 employees"}),(0,n.jsx)("option",{value:"1000+",children:"1000+ employees"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry"}),(0,n.jsx)("input",{type:"text",disabled:!N,value:M.industry,onChange:e=>z((0,r._)((0,s._)({},M),{industry:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Technology, Healthcare, etc."})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Company"}),(0,n.jsx)("textarea",{disabled:!N,value:M.about,onChange:e=>z((0,r._)((0,s._)({},M),{about:e.target.value})),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Tell us about your company, culture, and what makes it special..."})]}),N&&(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)("button",{type:"submit",disabled:v,className:"flex-1 bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors font-medium flex items-center justify-center space-x-2 disabled:opacity-50",children:v?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{className:"h-5 w-5 animate-spin"}),(0,n.jsx)("span",{children:"Saving..."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Z,{className:"h-5 w-5"}),(0,n.jsx)("span",{children:"Save Profile"})]})}),g&&(0,n.jsx)("button",{type:"button",onClick:()=>{k(!1),R()},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"})]})]})]})})]})}},75864:function(e,t,a){"use strict";var s=a(83464);let r=window.location.origin?window.location.origin:"https://jobvista-1.preview.emergentagent.com";console.log("API URL:",r);let n=s.Z.create({baseURL:"".concat(r,"/api"),headers:{"Content-Type":"application/json"},withCredentials:!1,timeout:3e4});n.interceptors.request.use(e=>{{let t=localStorage.getItem("authToken");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),n.interceptors.response.use(e=>(console.log("API Response:",e.status,e.config.url),e),async e=>{var t,a;let s=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!s._retry){s._retry=!0;{localStorage.removeItem("authToken"),localStorage.removeItem("user");let e=window.location.pathname;["/auth/login","/auth/register","/auth/verify","/","/auth/forgot-password"].some(t=>e.startsWith(t))||(window.location.href="/auth/login")}}return e.response?console.error("API Error Response:",e.response.status,e.response.data):e.request?(console.error("API No Response:",e.request),console.error("Request URL:",null===(a=e.config)||void 0===a?void 0:a.url)):console.error("API Request Setup Error:",e.message),Promise.reject(e)}),t.Z=n}},function(e){e.O(0,[216,3464,2971,2117,1744],function(){return e(e.s=97642)}),_N_E=e.O()}]);