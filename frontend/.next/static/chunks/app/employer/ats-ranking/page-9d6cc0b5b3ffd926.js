(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5908],{65446:function(e,t,s){Promise.resolve().then(s.bind(s,89161))},32660:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},33327:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},49322:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},41671:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},51817:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},70525:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},95805:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},99376:function(e,t,s){"use strict";var r=s(35475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},89161:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=s(57437),a=s(2265),n=s(99376),l=s(27648),i=s(51817),c=s(32660),o=s(95805),d=s(33327),x=s(70525),m=s(75864),h=s(41671),u=s(49322);let b=e=>{let t={highly_recommended:{bg:"bg-green-500/10",border:"border-green-500/30",text:"text-green-400",icon:"text-green-400"},recommended:{bg:"bg-blue-500/10",border:"border-blue-500/30",text:"text-blue-400",icon:"text-blue-400"},consider:{bg:"bg-yellow-500/10",border:"border-yellow-500/30",text:"text-yellow-400",icon:"text-yellow-400"},not_recommended:{bg:"bg-red-500/10",border:"border-red-500/30",text:"text-red-400",icon:"text-red-400"}};return t[e]||t.consider},g=e=>{let{label:t,score:s,color:a="blue"}=e;return(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,r.jsx)("span",{className:"text-gray-300",children:t}),(0,r.jsxs)("span",{className:"text-white font-semibold",children:[s,"%"]})]}),(0,r.jsx)("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r from-".concat(a,"-500 to-").concat(a,"-400 transition-all duration-500"),style:{width:"".concat(s,"%")}})})]})};function p(e){var t,s,a,n;let{ranking:l,compact:i=!1}=e;if(!l)return null;let c=b(l.category),o="highly_recommended"===l.category?d.Z:"recommended"===l.category?h.Z:"consider"===l.category?x.Z:u.Z;return i?(0,r.jsx)("div",{className:"".concat(c.bg," border ").concat(c.border," rounded-xl p-4"),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(o,{className:"h-5 w-5 ".concat(c.icon)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold ".concat(c.text),children:l.ranking}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"ATS Match Score"})]})]}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsxs)("p",{className:"text-2xl font-bold text-white",children:[l.overall_score,"%"]})})]})}):(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-3 ".concat(c.bg," rounded-xl"),children:(0,r.jsx)(o,{className:"h-6 w-6 ".concat(c.icon)})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:"ATS Ranking"}),(0,r.jsx)("p",{className:"font-semibold ".concat(c.text),children:l.ranking})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Overall Score"}),(0,r.jsxs)("p",{className:"text-4xl font-bold text-white",children:[l.overall_score,"%"]})]})]}),l.breakdown&&(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"text-sm text-gray-400 mb-3 font-medium",children:"Score Breakdown"}),(0,r.jsx)(g,{label:"Skills Match",score:(null===(t=l.breakdown.skills)||void 0===t?void 0:t.score)||0,color:"purple"}),(0,r.jsx)(g,{label:"Experience Match",score:(null===(s=l.breakdown.experience)||void 0===s?void 0:s.score)||0,color:"blue"}),(0,r.jsx)(g,{label:"Location Match",score:(null===(a=l.breakdown.location)||void 0===a?void 0:a.score)||0,color:"green"}),(0,r.jsx)(g,{label:"Education Match",score:(null===(n=l.breakdown.education)||void 0===n?void 0:n.score)||0,color:"orange"})]}),(0,r.jsx)("div",{className:"mt-6 p-4 ".concat(c.bg," border ").concat(c.border," rounded-xl"),children:(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:["highly_recommended"===l.category&&"⭐ This candidate is an excellent match for the position. Highly recommended for interview.","recommended"===l.category&&"✓ This candidate is a good match for the position. Recommended for consideration.","consider"===l.category&&"⚠ This candidate partially matches the requirements. Consider for interview with reservations.","not_recommended"===l.category&&"✗ This candidate has a low match score. Not recommended for this position."]})})]})}function j(){var e,t;(0,n.useRouter)();let s=(0,n.useSearchParams)().get("job_id"),[h,u]=(0,a.useState)(!0),[b,g]=(0,a.useState)(null),[j,f]=(0,a.useState)("");(0,a.useEffect)(()=>{s&&v()},[s]);let v=async()=>{try{u(!0);let e=await m.Z.post("/profiles/ats/rank-multiple",{job_id:s});g(e.data)}catch(s){var e,t;console.error("Failed to fetch rankings:",s),f((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.detail)||"Failed to load ATS rankings")}finally{u(!1)}};return s?h?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-green-900 to-slate-900 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(i.Z,{className:"h-12 w-12 text-green-400 animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-white",children:"Analyzing candidates..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-green-900 to-slate-900",children:[(0,r.jsx)("div",{className:"bg-white/5 backdrop-blur-xl border-b border-white/10",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(l.default,{href:"/employer/jobs",className:"p-2 hover:bg-white/10 rounded-lg transition-all",children:(0,r.jsx)(c.Z,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-white",children:"ATS Candidate Ranking"}),b&&(0,r.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:b.job_title})]})]})})})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[j&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:j}),b&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)(o.Z,{className:"h-6 w-6 text-green-400"}),(0,r.jsx)("span",{className:"text-gray-400",children:"Total Candidates"})]}),(0,r.jsx)("p",{className:"text-3xl font-bold text-white",children:b.total_candidates})]}),(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)(d.Z,{className:"h-6 w-6 text-blue-400"}),(0,r.jsx)("span",{className:"text-gray-400",children:"Highly Recommended"})]}),(0,r.jsx)("p",{className:"text-3xl font-bold text-white",children:(null===(e=b.candidates)||void 0===e?void 0:e.filter(e=>"highly_recommended"===e.category).length)||0})]}),(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)(x.Z,{className:"h-6 w-6 text-purple-400"}),(0,r.jsx)("span",{className:"text-gray-400",children:"Avg Match Score"})]}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-white",children:[(null===(t=b.candidates)||void 0===t?void 0:t.length)>0?Math.round(b.candidates.reduce((e,t)=>e+t.overall_score,0)/b.candidates.length):0,"%"]})]})]}),b.candidates&&b.candidates.length>0?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Ranked Candidates (Top to Bottom)"}),b.candidates.map((e,t)=>(0,r.jsx)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-6",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-xl font-bold text-white",children:["#",t+1]})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:e.candidate_name||"Anonymous Candidate"}),(0,r.jsx)("p",{className:"text-gray-400",children:e.current_position||"Professional"}),e.experience_years&&(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[e.experience_years," years of experience"]})]})}),(0,r.jsx)(p,{ranking:e,compact:!1})]})]})},e.candidate_id))]}):(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)(o.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Candidates to Rank"}),(0,r.jsx)("p",{className:"text-gray-400",children:"There are no applications for this job yet."})]})]})]})]}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-green-900 to-slate-900 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center text-white",children:[(0,r.jsx)("p",{children:"No job selected. Please select a job to view ATS rankings."}),(0,r.jsx)(l.default,{href:"/employer/jobs",className:"mt-4 inline-block text-green-400 hover:text-green-300",children:"Go to My Jobs"})]})})}function f(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-green-900 to-slate-900 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(i.Z,{className:"h-12 w-12 text-green-400 animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-white",children:"Loading..."})]})}),children:(0,r.jsx)(j,{})})}},75864:function(e,t,s){"use strict";var r=s(83464);let a=window.location.origin?window.location.origin:"https://jobvista-1.preview.emergentagent.com";console.log("API URL:",a);let n=r.Z.create({baseURL:"".concat(a,"/api"),headers:{"Content-Type":"application/json"},withCredentials:!1,timeout:3e4});n.interceptors.request.use(e=>{{let t=localStorage.getItem("authToken");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),n.interceptors.response.use(e=>(console.log("API Response:",e.status,e.config.url),e),async e=>{var t,s;let r=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!r._retry){r._retry=!0;{localStorage.removeItem("authToken"),localStorage.removeItem("user");let e=window.location.pathname;["/auth/login","/auth/register","/auth/verify","/","/auth/forgot-password"].some(t=>e.startsWith(t))||(window.location.href="/auth/login")}}return e.response?console.error("API Error Response:",e.response.status,e.response.data):e.request?(console.error("API No Response:",e.request),console.error("Request URL:",null===(s=e.config)||void 0===s?void 0:s.url)):console.error("API Request Setup Error:",e.message),Promise.reject(e)}),t.Z=n}},function(e){e.O(0,[216,3464,2971,2117,1744],function(){return e(e.s=65446)}),_N_E=e.O()}]);