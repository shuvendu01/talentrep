(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9866],{88829:function(e,t,s){Promise.resolve().then(s.bind(s,78157))},78157:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(57437),l=s(2265),i=s(99376),r=s(98239),d=s(75864),n=s(22795);s(27648);var c=s(49232),x=s(70525),o=s(3085),h=s(16066),m=s(61710),b=s(92451),u=s(10407),j=s(66474);function p(){let e=(0,i.useRouter)(),[t,s]=(0,l.useState)([]),[p,N]=(0,l.useState)(!0),[g,w]=(0,l.useState)({free:0,paid:0,total:0}),[f,y]=(0,l.useState)(1),[v,_]=(0,l.useState)(1);return((0,l.useEffect)(()=>{(async()=>{try{let e=await d.Z.get("/credits/balance");w({free:e.data.credits_free,paid:e.data.credits_paid,total:e.data.total_credits});let t=await d.Z.get("/credits/transactions",{params:{page:f,limit:20}});s(t.data.transactions||[]),_(t.data.pages||1)}catch(t){e.push("/auth/login")}finally{N(!1)}})()},[e,f]),p)?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 flex items-center justify-center",children:(0,a.jsx)(r.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0},className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full"})}):(0,a.jsx)(n.Z,{children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-white mb-8",children:"Credit Transactions"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Total"}),(0,a.jsx)(c.Z,{className:"h-5 w-5 text-yellow-400"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-white",children:g.total.toLocaleString()})]}),(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Free"}),(0,a.jsx)(x.Z,{className:"h-5 w-5 text-green-400"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-400",children:g.free.toLocaleString()})]}),(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Paid"}),(0,a.jsx)(o.Z,{className:"h-5 w-5 text-blue-400"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-400",children:g.paid.toLocaleString()})]})]}),(0,a.jsx)("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl overflow-hidden",children:0===t.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(c.Z,{className:"h-16 w-16 text-gray-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl text-white",children:"No transactions"})]}):(0,a.jsxs)("div",{className:"divide-y divide-white/10",children:[t.map(e=>(0,a.jsxs)("div",{className:"p-6 hover:bg-white/5 flex justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"mt-1",children:"earn"===e.transaction_type||"bonus"===e.transaction_type?(0,a.jsx)(h.Z,{className:"h-5 w-5 text-green-400"}):(0,a.jsx)(m.Z,{className:"h-5 w-5 text-red-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-white",children:e.description}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:e.category}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.created_at).toLocaleString()})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:(0,j.cn)("text-2xl font-bold",e.amount>0?"text-green-400":"text-red-400"),children:[e.amount>0?"+":"",e.amount.toLocaleString()]}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["Bal: ",(e.balance_free+e.balance_paid).toLocaleString()]})]})]},e.id)),v>1&&(0,a.jsxs)("div",{className:"bg-white/5 px-6 py-3 flex justify-between",children:[(0,a.jsx)("button",{onClick:()=>y(e=>Math.max(1,e-1)),disabled:1===f,className:"px-4 py-2 bg-white/5 rounded-lg text-white disabled:opacity-50",children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("span",{className:"text-gray-400",children:["Page ",f,"/",v]}),(0,a.jsx)("button",{onClick:()=>y(e=>Math.min(v,e+1)),disabled:f===v,className:"px-4 py-2 bg-white/5 rounded-lg text-white disabled:opacity-50",children:(0,a.jsx)(u.Z,{className:"h-4 w-4"})})]})]})})]})})}}},function(e){e.O(0,[216,3464,6084,7055,2795,2971,2117,1744],function(){return e(e.s=88829)}),_N_E=e.O()}]);