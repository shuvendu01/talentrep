(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1501],{30614:function(e,t,r){Promise.resolve().then(r.bind(r,65165))},79205:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var s=r(85583),a=r(46796),i=r(2265);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),c=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var h=r(1780),u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let x=(0,i.forwardRef)((e,t)=>{var{color:r="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:x="",children:m,iconNode:p}=e,f=(0,a._)(e,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return(0,i.createElement)("svg",(0,s._)((0,h._)((0,s._)({ref:t},u),{width:l,height:l,stroke:r,strokeWidth:c?24*Number(n)/Number(l):n,className:o("lucide",x)}),!m&&!d(f)&&{"aria-hidden":"true"},f),[...p.map(e=>{let[t,r]=e;return(0,i.createElement)(t,r)}),...Array.isArray(m)?m:[m]])}),m=(e,t)=>{let r=(0,i.forwardRef)((r,n)=>{var{className:d}=r,h=(0,a._)(r,["className"]);return(0,i.createElement)(x,(0,s._)({ref:n,iconNode:t,className:o("lucide-".concat(l(c(e))),"lucide-".concat(e),d)},h))});return r.displayName=c(e),r}},33327:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},5005:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},60044:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},49232:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},3577:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},66337:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},89345:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},83774:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},13041:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},73247:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},99376:function(e,t,r){"use strict";var s=r(35475);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},65165:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var s=r(85583),a=r(1780),i=r(57437),l=r(2265),n=r(99376),c=r(49232),o=r(73247),d=r(83774),h=r(3577),u=r(33327),x=r(5005),m=r(60044);let p=(0,r(79205).Z)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);var f=r(89345),g=r(13041),y=r(66337),v=r(75864),b=r(69064);function w(){let e=(0,n.useRouter)(),[t,r]=(0,l.useState)(null),[w,j]=(0,l.useState)([]),[N,k]=(0,l.useState)(!0),[_,Z]=(0,l.useState)(!1),[S,A]=(0,l.useState)(!1),[C,M]=(0,l.useState)({}),[P,R]=(0,l.useState)(0),[q,E]=(0,l.useState)(1e4),[L,z]=(0,l.useState)({query:"",location:"",experience_min:"",experience_max:"",skills:"",verified_only:!1,sort_by:"relevance"});(0,l.useEffect)(()=>{I(),U()},[]),(0,l.useEffect)(()=>{F()},[L.verified_only,L.sort_by]);let I=async()=>{try{let t=await v.Z.get("/auth/me");if(r(t.data),"employer"!==t.data.role){b.Am.error("Only employers can access talent search"),e.push("/dashboard");return}let s=await v.Z.get("/credits/balance");R(s.data.total_credits)}catch(t){console.error("Auth check failed:",t),e.push("/auth/login")}},U=async()=>{try{let e=await v.Z.get("/credits/settings");E(e.data.contact_reveal_cost||1e4)}catch(e){console.error("Failed to fetch settings:",e)}},F=async()=>{Z(!0);try{var e;let t=new URLSearchParams;L.query&&t.append("query",L.query),L.location&&t.append("location",L.location),L.experience_min&&t.append("experience_min",L.experience_min),L.experience_max&&t.append("experience_max",L.experience_max),L.skills&&t.append("skills",L.skills),L.verified_only&&t.append("verified_only","true"),t.append("sort_by",L.sort_by);let r=await v.Z.get("/profiles/jobseeker/search?".concat(t.toString()));j(r.data.profiles||[]);let s=await v.Z.get("/contacts/my-access"),a={};null===(e=s.data.access_list)||void 0===e||e.forEach(e=>{a[e.jobseeker_id]=!0}),M(a),k(!1)}catch(e){console.error("Failed to search talents:",e),j([]),k(!1)}finally{Z(!1)}},W=async e=>{if(P<q){b.Am.error("Insufficient credits. You need ".concat(q," credits to reveal contact."));return}try{await v.Z.post("/contacts/reveal",{jobseeker_id:e}),b.Am.success("Contact revealed successfully! Access valid for 1 year."),M(t=>(0,a._)((0,s._)({},t),{[e]:!0})),R(e=>e-q),F()}catch(e){var t,r;console.error("Failed to reveal contact:",e),b.Am.error((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.detail)||"Failed to reveal contact")}};return(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-green-900 to-slate-900",children:[(0,i.jsx)("div",{className:"bg-white/5 backdrop-blur-xl border-b border-white/10 sticky top-0 z-40",children:(0,i.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Search Talent"}),(0,i.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Find verified professionals for your team"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl",children:[(0,i.jsx)(c.Z,{className:"h-5 w-5 text-white"}),(0,i.jsx)("span",{className:"font-bold text-white",children:P})]}),(0,i.jsx)("button",{onClick:()=>e.push("/employer/dashboard"),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-xl text-white hover:bg-white/20 transition-all",children:"Back to Dashboard"})]})]})})}),(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,i.jsx)("form",{onSubmit:e=>{e.preventDefault(),F()},className:"mb-8",children:(0,i.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[(0,i.jsx)("div",{className:"md:col-span-5",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(o.Z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,i.jsx)("input",{type:"text",placeholder:"Search by name, skills, title...",value:L.query,onChange:e=>z(t=>(0,a._)((0,s._)({},t),{query:e.target.value})),className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),(0,i.jsx)("div",{className:"md:col-span-3",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(d.Z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,i.jsx)("input",{type:"text",placeholder:"Location",value:L.location,onChange:e=>z(t=>(0,a._)((0,s._)({},t),{location:e.target.value})),className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),(0,i.jsx)("div",{className:"md:col-span-2",children:(0,i.jsxs)("button",{type:"button",onClick:()=>A(!S),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white hover:bg-white/20 transition-all flex items-center justify-center gap-2",children:[(0,i.jsx)(h.Z,{className:"h-5 w-5"}),"Filters"]})}),(0,i.jsx)("div",{className:"md:col-span-2",children:(0,i.jsx)("button",{type:"submit",disabled:_,className:"w-full px-4 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl font-medium hover:shadow-lg hover:shadow-green-500/50 transition-all disabled:opacity-50",children:_?"Searching...":"Search"})})]}),S&&(0,i.jsx)("div",{className:"mt-6 pt-6 border-t border-white/10",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Min Experience (years)"}),(0,i.jsx)("input",{type:"number",placeholder:"0",value:L.experience_min,onChange:e=>z(t=>(0,a._)((0,s._)({},t),{experience_min:e.target.value})),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-green-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Experience (years)"}),(0,i.jsx)("input",{type:"number",placeholder:"20",value:L.experience_max,onChange:e=>z(t=>(0,a._)((0,s._)({},t),{experience_max:e.target.value})),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-green-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sort By"}),(0,i.jsxs)("select",{value:L.sort_by,onChange:e=>z(t=>(0,a._)((0,s._)({},t),{sort_by:e.target.value})),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white focus:ring-2 focus:ring-green-500",children:[(0,i.jsx)("option",{value:"relevance",children:"Relevance"}),(0,i.jsx)("option",{value:"experience",children:"Experience"}),(0,i.jsx)("option",{value:"recent",children:"Recently Updated"})]})]}),(0,i.jsx)("div",{className:"flex items-end",children:(0,i.jsxs)("label",{className:"flex items-center gap-2 text-gray-300 cursor-pointer",children:[(0,i.jsx)("input",{type:"checkbox",checked:L.verified_only,onChange:e=>z(t=>(0,a._)((0,s._)({},t),{verified_only:e.target.checked})),className:"w-5 h-5 rounded border-white/20 bg-white/10 text-green-500 focus:ring-green-500"}),(0,i.jsx)("span",{children:"Verified Only"})]})})]})})]})}),N?(0,i.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}):0===w.length?(0,i.jsxs)("div",{className:"text-center py-16",children:[(0,i.jsx)(o.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,i.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No talents found"}),(0,i.jsx)("p",{className:"text-gray-400",children:"Try adjusting your search filters"})]}):(0,i.jsx)("div",{className:"grid grid-cols-1 gap-6",children:w.map(e=>{var t,r;return(0,i.jsx)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 hover:border-green-500/50 transition-all",children:(0,i.jsx)("div",{className:"flex items-start justify-between",children:(0,i.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,i.jsxs)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center text-white text-xl font-bold flex-shrink-0",children:[null===(t=e.first_name)||void 0===t?void 0:t[0],null===(r=e.last_name)||void 0===r?void 0:r[0]]}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,i.jsxs)("h3",{className:"text-xl font-bold text-white",children:[e.first_name," ",e.last_name]}),"verified"===e.verification_status&&(0,i.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-500/20 rounded-lg",children:[(0,i.jsx)(u.Z,{className:"h-4 w-4 text-blue-400"}),(0,i.jsx)("span",{className:"text-xs text-blue-400 font-medium",children:"Verified"})]})]}),(0,i.jsx)("p",{className:"text-gray-300 mb-3",children:e.current_position||"Professional"}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400 mb-4",children:[e.location&&(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(d.Z,{className:"h-4 w-4"}),e.location]}),e.experience_years&&(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(x.Z,{className:"h-4 w-4"}),e.experience_years," years exp"]}),e.current_company&&(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(m.Z,{className:"h-4 w-4"}),e.current_company]})]}),e.primary_skills&&e.primary_skills.length>0&&(0,i.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.primary_skills.slice(0,6).map((e,t)=>(0,i.jsx)("span",{className:"px-3 py-1 bg-white/10 border border-white/20 rounded-lg text-sm text-gray-300",children:e},t)),e.primary_skills.length>6&&(0,i.jsxs)("span",{className:"px-3 py-1 text-sm text-gray-400",children:["+",e.primary_skills.length-6," more"]})]}),C[e.user_id]?(0,i.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-xl p-4 mt-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 text-green-400 mb-3",children:[(0,i.jsx)(p,{className:"h-5 w-5"}),(0,i.jsx)("span",{className:"font-medium",children:"Contact Revealed"})]}),(0,i.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 text-white",children:[(0,i.jsx)(f.Z,{className:"h-4 w-4 text-gray-400"}),e.email||"Not available"]}),(0,i.jsxs)("div",{className:"flex items-center gap-2 text-white",children:[(0,i.jsx)(g.Z,{className:"h-4 w-4 text-gray-400"}),e.phone||"Not available"]}),e.current_company&&(0,i.jsxs)("div",{className:"flex items-center gap-2 text-white",children:[(0,i.jsx)(m.Z,{className:"h-4 w-4 text-gray-400"}),e.current_company]})]})]}):(0,i.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mt-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[(0,i.jsx)(y.Z,{className:"h-5 w-5"}),(0,i.jsx)("span",{className:"text-sm",children:"Contact information hidden"})]}),(0,i.jsxs)("button",{onClick:()=>W(e.user_id),className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-medium hover:shadow-lg hover:shadow-green-500/50 transition-all flex items-center gap-2",children:[(0,i.jsx)(c.Z,{className:"h-4 w-4"}),"Reveal (",q," credits)"]})]})})]})]})})},e.user_id)})})]})]})}},75864:function(e,t,r){"use strict";var s=r(83464);let a=window.location.origin?window.location.origin:"https://jobvista-1.preview.emergentagent.com";console.log("API URL:",a);let i=s.Z.create({baseURL:"".concat(a,"/api"),headers:{"Content-Type":"application/json"},withCredentials:!1,timeout:3e4});i.interceptors.request.use(e=>{{let t=localStorage.getItem("authToken");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),i.interceptors.response.use(e=>(console.log("API Response:",e.status,e.config.url),e),async e=>{var t,r;let s=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!s._retry){s._retry=!0;{localStorage.removeItem("authToken"),localStorage.removeItem("user");let e=window.location.pathname;["/auth/login","/auth/register","/auth/verify","/","/auth/forgot-password"].some(t=>e.startsWith(t))||(window.location.href="/auth/login")}}return e.response?console.error("API Error Response:",e.response.status,e.response.data):e.request?(console.error("API No Response:",e.request),console.error("Request URL:",null===(r=e.config)||void 0===r?void 0:r.url)):console.error("API Request Setup Error:",e.message),Promise.reject(e)}),t.Z=i}},function(e){e.O(0,[3464,9064,2971,2117,1744],function(){return e(e.s=30614)}),_N_E=e.O()}]);