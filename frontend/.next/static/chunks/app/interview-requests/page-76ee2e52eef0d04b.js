(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6618],{57620:function(e,t,r){Promise.resolve().then(r.bind(r,10426))},79205:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var s=r(85583),a=r(46796),l=r(2265);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},c=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var u=r(1780),h={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let m=(0,l.forwardRef)((e,t)=>{var{color:r="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:m="",children:x,iconNode:p}=e,g=(0,a._)(e,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return(0,l.createElement)("svg",(0,s._)((0,u._)((0,s._)({ref:t},h),{width:i,height:i,stroke:r,strokeWidth:o?24*Number(n)/Number(i):n,className:c("lucide",m)}),!x&&!d(g)&&{"aria-hidden":"true"},g),[...p.map(e=>{let[t,r]=e;return(0,l.createElement)(t,r)}),...Array.isArray(x)?x:[x]])}),x=(e,t)=>{let r=(0,l.forwardRef)((r,n)=>{var{className:d}=r,u=(0,a._)(r,["className"]);return(0,l.createElement)(m,(0,s._)({ref:n,iconNode:t,className:c("lucide-".concat(i(o(e))),"lucide-".concat(e),d)},u))});return r.displayName=o(e),r}},33327:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},31047:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},41671:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},91723:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},49232:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},86595:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},99376:function(e,t,r){"use strict";var s=r(35475);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},10426:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(85583),a=r(1780),l=r(57437),i=r(2265),n=r(99376),o=r(49232),c=r(33327),d=r(31047),u=r(91723),h=r(41671),m=r(86595),x=r(75864),p=r(69064);function g(){var e;let t=(0,n.useRouter)(),[r,g]=(0,i.useState)(null),[v,f]=(0,i.useState)("available"),[b,w]=(0,i.useState)([]),[y,N]=(0,i.useState)(!0),[j,k]=(0,i.useState)(0),[_,S]=(0,i.useState)(!1),[Z,C]=(0,i.useState)(null),[A,P]=(0,i.useState)({}),[E,R]=(0,i.useState)("");(0,i.useEffect)(()=>{q()},[]),(0,i.useEffect)(()=>{r&&I()},[v,r]);let q=async()=>{try{let e=await x.Z.get("/auth/me");if(g(e.data),"interviewer"!==e.data.role){p.Am.error("Only interviewers can access this page"),t.push("/dashboard");return}let r=await x.Z.get("/credits/balance");k(r.data.total_credits)}catch(e){console.error("Auth check failed:",e),t.push("/auth/login")}},I=async()=>{N(!0);try{let e="";e="available"===v?"/interviews/requests/available":"/interviews/my-interviews";let t=(await x.Z.get(e)).data.requests||[];"assigned"===v?t=t.filter(e=>"ASSIGNED"===e.status):"completed"===v&&(t=t.filter(e=>"COMPLETED"===e.status)),w(t)}catch(e){console.error("Failed to fetch requests:",e),w([])}finally{N(!1)}},L=async e=>{try{await x.Z.post("/interviews/requests/".concat(e,"/accept")),p.Am.success("Interview request accepted!"),I()}catch(e){var t,r;console.error("Failed to accept request:",e),p.Am.error((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.detail)||"Failed to accept request")}},D=e=>{var t;C(e),S(!0);let r={};null===(t=e.skills_to_verify)||void 0===t||t.forEach(e=>{r[e]=3}),P(r)},M=async()=>{try{let e=Object.entries(A).map(e=>{let[t,r]=e;return{skill:t,rating:parseFloat(r)}});await x.Z.post("/interviews/ratings",{interview_request_id:Z.request_id,skill_ratings:e,feedback:E||void 0}),p.Am.success("Rating submitted successfully! You earned 500 credits."),S(!1),C(null),P({}),R(""),I();let t=await x.Z.get("/credits/balance");k(t.data.total_credits)}catch(r){var e,t;console.error("Failed to submit rating:",r),p.Am.error((null===(t=r.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.detail)||"Failed to submit rating")}},F=e=>{let t={PENDING:{color:"yellow",text:"Pending"},ASSIGNED:{color:"blue",text:"Assigned"},COMPLETED:{color:"green",text:"Completed"},CANCELLED:{color:"red",text:"Cancelled"}},r=t[e]||t.PENDING;return(0,l.jsx)("span",{className:"px-3 py-1 bg-".concat(r.color,"-500/20 text-").concat(r.color,"-400 border border-").concat(r.color,"-500/30 rounded-lg text-sm font-medium"),children:r.text})};return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[(0,l.jsx)("div",{className:"bg-white/5 backdrop-blur-xl border-b border-white/10 sticky top-0 z-40",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Interview Requests"}),(0,l.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Manage and complete interview verifications"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl",children:[(0,l.jsx)(o.Z,{className:"h-5 w-5 text-white"}),(0,l.jsx)("span",{className:"font-bold text-white",children:j})]}),(0,l.jsx)("button",{onClick:()=>t.push("/interviewer/dashboard"),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-xl text-white hover:bg-white/20 transition-all",children:"Back to Dashboard"})]})]})})}),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-2 mb-8 inline-flex gap-2",children:[(0,l.jsx)("button",{onClick:()=>f("available"),className:"px-6 py-3 rounded-xl font-medium transition-all ".concat("available"===v?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg":"text-gray-400 hover:text-white"),children:"Available Requests"}),(0,l.jsx)("button",{onClick:()=>f("assigned"),className:"px-6 py-3 rounded-xl font-medium transition-all ".concat("assigned"===v?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg":"text-gray-400 hover:text-white"),children:"My Interviews"}),(0,l.jsx)("button",{onClick:()=>f("completed"),className:"px-6 py-3 rounded-xl font-medium transition-all ".concat("completed"===v?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg":"text-gray-400 hover:text-white"),children:"Completed"})]}),y?(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):0===b.length?(0,l.jsxs)("div",{className:"text-center py-16 bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl",children:[(0,l.jsx)(c.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No requests found"}),(0,l.jsxs)("p",{className:"text-gray-400",children:["available"===v&&"No available interview requests at the moment","assigned"===v&&"You have no assigned interviews","completed"===v&&"You have not completed any interviews yet"]})]}):(0,l.jsx)("div",{className:"grid grid-cols-1 gap-6",children:b.map(e=>{var t;return(0,l.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 hover:border-purple-500/50 transition-all",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-lg font-bold",children:(null===(t=e.jobseeker_name)||void 0===t?void 0:t[0])||"J"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-white",children:e.jobseeker_name||"Job Seeker"}),(0,l.jsx)("p",{className:"text-gray-400 text-sm",children:e.jobseeker_position||"Professional"})]})]}),F(e.status)]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[(0,l.jsx)(d.Z,{className:"h-5 w-5 text-purple-400"}),(0,l.jsxs)("span",{className:"text-sm",children:["Requested: ",new Date(e.created_at).toLocaleDateString()]})]}),e.scheduled_at&&(0,l.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[(0,l.jsx)(u.Z,{className:"h-5 w-5 text-purple-400"}),(0,l.jsxs)("span",{className:"text-sm",children:["Scheduled: ",new Date(e.scheduled_at).toLocaleDateString()]})]})]}),e.skills_to_verify&&e.skills_to_verify.length>0&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Skills to verify:"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:e.skills_to_verify.map((e,t)=>(0,l.jsx)("span",{className:"px-3 py-1 bg-purple-500/20 border border-purple-500/30 rounded-lg text-sm text-purple-300",children:e},t))})]}),(0,l.jsxs)("div",{className:"flex gap-3 mt-4",children:["available"===v&&"PENDING"===e.status&&(0,l.jsxs)("button",{onClick:()=>L(e.request_id),className:"flex-1 px-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-medium hover:shadow-lg hover:shadow-purple-500/50 transition-all flex items-center justify-center gap-2",children:[(0,l.jsx)(h.Z,{className:"h-5 w-5"}),"Accept Interview"]}),"assigned"===v&&"ASSIGNED"===e.status&&(0,l.jsxs)("button",{onClick:()=>D(e),className:"flex-1 px-4 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl font-medium hover:shadow-lg hover:shadow-green-500/50 transition-all flex items-center justify-center gap-2",children:[(0,l.jsx)(m.Z,{className:"h-5 w-5"}),"Submit Rating"]}),"completed"===v&&e.overall_rating&&(0,l.jsxs)("div",{className:"flex items-center gap-2 text-green-400",children:[(0,l.jsx)(m.Z,{className:"h-5 w-5 fill-current"}),(0,l.jsxs)("span",{className:"font-medium",children:["Rating: ",e.overall_rating.toFixed(1)]})]})]})]},e.request_id)})})]}),_&&Z&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-slate-900 border border-white/20 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Submit Interview Rating"}),(0,l.jsx)("p",{className:"text-gray-400 mb-6",children:"Rate the candidate's skills (0.5 - 5.0 scale)"}),(0,l.jsxs)("div",{className:"space-y-6 mb-6",children:[null===(e=Z.skills_to_verify)||void 0===e?void 0:e.map(e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("input",{type:"range",min:"0.5",max:"5.0",step:"0.5",value:A[e]||3,onChange:t=>P(r=>(0,a._)((0,s._)({},r),{[e]:parseFloat(t.target.value)})),className:"flex-1"}),(0,l.jsx)("span",{className:"text-white font-bold w-12 text-center",children:(A[e]||3).toFixed(1)}),(0,l.jsx)("div",{className:"flex gap-1",children:[void 0,void 0,void 0,void 0,void 0].map((t,r)=>(0,l.jsx)(m.Z,{className:"h-5 w-5 ".concat(r<Math.floor(A[e]||3)?"fill-yellow-400 text-yellow-400":"text-gray-600")},r))})]})]},e)),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Feedback (Optional)"}),(0,l.jsx)("textarea",{value:E,onChange:e=>R(e.target.value),rows:4,placeholder:"Provide detailed feedback about the candidate's performance...",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:()=>{S(!1),C(null),P({}),R("")},className:"flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white hover:bg-white/20 transition-all",children:"Cancel"}),(0,l.jsx)("button",{onClick:M,className:"flex-1 px-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-medium hover:shadow-lg hover:shadow-purple-500/50 transition-all",children:"Submit Rating & Earn 500 Credits"})]})]})})]})}},75864:function(e,t,r){"use strict";var s=r(83464);let a=window.location.origin?window.location.origin:"https://jobvista-1.preview.emergentagent.com";console.log("API URL:",a);let l=s.Z.create({baseURL:"".concat(a,"/api"),headers:{"Content-Type":"application/json"},withCredentials:!1,timeout:3e4});l.interceptors.request.use(e=>{{let t=localStorage.getItem("authToken");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),l.interceptors.response.use(e=>(console.log("API Response:",e.status,e.config.url),e),async e=>{var t,r;let s=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!s._retry){s._retry=!0;{localStorage.removeItem("authToken"),localStorage.removeItem("user");let e=window.location.pathname;["/auth/login","/auth/register","/auth/verify","/","/auth/forgot-password"].some(t=>e.startsWith(t))||(window.location.href="/auth/login")}}return e.response?console.error("API Error Response:",e.response.status,e.response.data):e.request?(console.error("API No Response:",e.request),console.error("Request URL:",null===(r=e.config)||void 0===r?void 0:r.url)):console.error("API Request Setup Error:",e.message),Promise.reject(e)}),t.Z=l}},function(e){e.O(0,[3464,9064,2971,2117,1744],function(){return e(e.s=57620)}),_N_E=e.O()}]);