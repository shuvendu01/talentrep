(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7712],{90941:function(e,s,t){Promise.resolve().then(t.bind(t,43473))},5005:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},98420:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},31047:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},92451:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},41671:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},95252:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},42208:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},83774:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},95805:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},32489:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},99376:function(e,s,t){"use strict";var a=t(35475);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},43473:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return g}});var a=t(57437),r=t(2265),l=t(99376),n=t(75864),i=t(27648),c=t(92451),o=t(41671),d=t(32489),x=t(98420),m=t(83774),u=t(5005),h=t(95252),p=t(31047),b=t(42208),f=t(95805);let y=(0,t(79205).Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function g(){var e,s,t,g,j;let v=(0,l.useRouter)(),N=(0,l.useParams)().id,[w,k]=(0,r.useState)(null),[Z,_]=(0,r.useState)(null),[P,M]=(0,r.useState)(!0),[q,S]=(0,r.useState)(!1),[R,A]=(0,r.useState)(!1),[C,F]=(0,r.useState)(""),[I,z]=(0,r.useState)({type:"",text:""}),[E,T]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{try{let e=await n.Z.get("/auth/me");k(e.data),"jobseeker"===e.data.role&&L()}catch(e){console.log("User not logged in")}let e=await n.Z.get("/jobs/jobs/".concat(N));_(e.data)}catch(e){console.error("Failed to fetch job details:",e),z({type:"error",text:"Job not found"})}finally{M(!1)}})()},[N]);let L=async()=>{try{let e=(await n.Z.get("/jobs/applications/my-applications")).data.some(e=>e.job_id===N);T(e)}catch(e){console.error("Failed to check application status:",e)}},H=async e=>{if(e.preventDefault(),!w){v.push("/auth/login?redirect=/jobs/".concat(N));return}if("jobseeker"!==w.role){z({type:"error",text:"Only job seekers can apply for jobs"});return}A(!0),z({type:"",text:""});try{await n.Z.post("/jobs/applications",{job_id:N,cover_letter:C}),z({type:"success",text:"Application submitted successfully!"}),T(!0),S(!1),F(""),setTimeout(()=>{z({type:"",text:""})},3e3)}catch(e){var s,t;z({type:"error",text:(null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.detail)||"Failed to submit application"})}finally{A(!1)}};return P?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):Z?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsx)(i.default,{href:"/",className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"TalentHub"}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:w?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.default,{href:"/dashboard",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Dashboard"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{href:"/auth/login",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Login"}),(0,a.jsx)(i.default,{href:"/auth/register",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Sign Up"})]})})]})})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-6",children:(0,a.jsxs)(i.default,{href:"/jobs",className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),"Back to all jobs"]})}),I.text&&(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 mt-4",children:(0,a.jsxs)("div",{className:"p-4 rounded-lg flex items-start gap-3 ".concat("success"===I.type?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:["success"===I.type?(0,a.jsx)(o.Z,{className:"h-5 w-5 mt-0.5"}):(0,a.jsx)(d.Z,{className:"h-5 w-5 mt-0.5"}),(0,a.jsx)("p",{children:I.text})]})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,a.jsxs)("div",{className:"border-b border-gray-200 pb-6 mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:Z.job_title}),(0,a.jsxs)("div",{className:"flex items-center text-gray-600 mb-3",children:[(0,a.jsx)(x.Z,{className:"h-5 w-5 mr-2"}),(0,a.jsx)("span",{className:"text-lg font-medium",children:Z.company_name})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-gray-600 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:Z.location})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsxs)("span",{children:[{"full-time":"Full Time","part-time":"Part Time",contract:"Contract",internship:"Internship",freelance:"Freelance"}[e=Z.job_type]||e," • ",{onsite:"On-site",remote:"Remote",hybrid:"Hybrid"}[s=Z.work_mode]||s]})]}),Z.min_salary&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{className:"font-semibold",children:(t=Z.min_salary,g=Z.max_salary,t&&g?"$".concat((t/1e3).toFixed(0),"k - $").concat((g/1e3).toFixed(0),"k per year"):t?"$".concat((t/1e3).toFixed(0),"k+ per year"):"Not specified")})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsx)("span",{children:0===(j=Z.freshness_days)?"Posted today":1===j?"Posted yesterday":j<7?"Posted ".concat(j," days ago"):j<30?"Posted ".concat(Math.floor(j/7)," weeks ago"):"Posted ".concat(Math.floor(j/30)," months ago")})]}),Z.views_count>0&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsxs)("span",{children:[Z.views_count," views"]})]}),Z.applications_count>0&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsxs)("span",{children:[Z.applications_count," applicants"]})]})]})]}),w&&"jobseeker"===w.role&&(0,a.jsx)("div",{className:"mb-6",children:E?(0,a.jsxs)("div",{className:"flex items-center gap-2 px-6 py-3 bg-green-50 text-green-700 rounded-lg border border-green-200",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"font-semibold",children:"You have already applied for this job"})]}):(0,a.jsxs)("button",{onClick:()=>S(!0),className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center justify-center gap-2",children:[(0,a.jsx)(y,{className:"h-5 w-5"}),"Apply for this position"]})}),!w&&(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(i.default,{href:"/auth/login?redirect=/jobs/".concat(N),className:"block w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold text-center",children:"Login to Apply"})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Job Description"}),(0,a.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:Z.description})]}),void 0!==Z.min_experience&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Experience Required"}),(0,a.jsxs)("p",{className:"text-gray-700",children:[Z.min_experience," - ",Z.max_experience||"+"," years"]})]}),Z.number_of_openings>1&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Number of Openings"}),(0,a.jsxs)("p",{className:"text-gray-700",children:[Z.number_of_openings," positions"]})]}),Z.responsibilities&&Z.responsibilities.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Key Responsibilities"}),(0,a.jsx)("ul",{className:"list-disc list-inside space-y-2",children:Z.responsibilities.map((e,s)=>(0,a.jsx)("li",{className:"text-gray-700",children:e},s))})]}),Z.requirements&&Z.requirements.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Requirements"}),(0,a.jsx)("ul",{className:"list-disc list-inside space-y-2",children:Z.requirements.map((e,s)=>(0,a.jsx)("li",{className:"text-gray-700",children:e},s))})]}),Z.required_skills&&Z.required_skills.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Required Skills"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:Z.required_skills.map((e,s)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-green-50 text-green-700 rounded-full text-sm font-medium border border-green-200",children:e},s))})]}),Z.preferred_skills&&Z.preferred_skills.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Preferred Skills"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:Z.preferred_skills.map((e,s)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm font-medium border border-blue-200",children:e},s))})]})]})}),q&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["Apply for ",Z.job_title]}),(0,a.jsx)("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(d.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("form",{onSubmit:H,children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Letter"}),(0,a.jsx)("textarea",{value:C,onChange:e=>F(e.target.value),placeholder:"Tell the employer why you're a great fit for this position...",rows:8,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Optional: Explain your interest and qualifications for this role"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>S(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:R,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:R?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Submitting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{className:"h-4 w-4"}),"Submit Application"]})})]})]})]})})})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Job not found"}),(0,a.jsx)(i.default,{href:"/jobs",className:"text-blue-600 hover:text-blue-700",children:"← Back to jobs"})]})})}},75864:function(e,s,t){"use strict";var a=t(83464);let r=window.location.origin?window.location.origin:"https://jobvista-1.preview.emergentagent.com";console.log("API URL:",r);let l=a.Z.create({baseURL:"".concat(r,"/api"),headers:{"Content-Type":"application/json"},withCredentials:!1,timeout:3e4});l.interceptors.request.use(e=>{{let s=localStorage.getItem("authToken");s&&(e.headers.Authorization="Bearer ".concat(s))}return e},e=>Promise.reject(e)),l.interceptors.response.use(e=>(console.log("API Response:",e.status,e.config.url),e),async e=>{var s,t;let a=e.config;if((null===(s=e.response)||void 0===s?void 0:s.status)===401&&!a._retry){a._retry=!0;{localStorage.removeItem("authToken"),localStorage.removeItem("user");let e=window.location.pathname;["/auth/login","/auth/register","/auth/verify","/","/auth/forgot-password"].some(s=>e.startsWith(s))||(window.location.href="/auth/login")}}return e.response?console.error("API Error Response:",e.response.status,e.response.data):e.request?(console.error("API No Response:",e.request),console.error("Request URL:",null===(t=e.config)||void 0===t?void 0:t.url)):console.error("API Request Setup Error:",e.message),Promise.reject(e)}),s.Z=l}},function(e){e.O(0,[216,3464,2971,2117,1744],function(){return e(e.s=90941)}),_N_E=e.O()}]);