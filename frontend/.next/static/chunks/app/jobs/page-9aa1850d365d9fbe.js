(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9109],{32923:function(e,s,a){Promise.resolve().then(a.bind(a,35458))},35458:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return N}});var r=a(85583),l=a(1780),t=a(57437),n=a(2265),i=a(99376),o=a(75864),c=a(22795),d=a(27648),m=a(73247),x=a(83774),u=a(3577),h=a(32489),b=a(5005),p=a(98420),g=a(95252),y=a(31047),j=a(95805),f=a(92451),v=a(10407);function N(){(0,i.useRouter)();let[e,s]=(0,n.useState)(null),[a,N]=(0,n.useState)(!0),[w,_]=(0,n.useState)(!1),[k,C]=(0,n.useState)([]),[S,F]=(0,n.useState)(0),[Z,M]=(0,n.useState)(1),[T,q]=(0,n.useState)(1),[A,E]=(0,n.useState)(!1),[P,O]=(0,n.useState)({query:"",location:"",job_type:"",work_mode:"",min_experience:"",max_experience:"",min_salary:"",skills:"",freshness:"",sort_by:"created_at",limit:12});(0,n.useEffect)(()=>{(async()=>{try{let e=await o.Z.get("/auth/me");s(e.data)}catch(e){console.log("User not logged in")}finally{N(!1)}})()},[]),(0,n.useEffect)(()=>{R()},[Z]);let R=async()=>{_(!0);try{let e=(0,l._)((0,r._)({},P),{page:Z});Object.keys(e).forEach(s=>{(""===e[s]||null===e[s]||void 0===e[s])&&delete e[s]});let s=await o.Z.get("/jobs/jobs",{params:e});C(s.data.jobs||[]),F(s.data.total||0),q(s.data.pages||1)}catch(e){console.error("Failed to fetch jobs:",e),C([])}finally{_(!1)}},J=e=>{e.preventDefault(),M(1),R()},L=(e,s)=>{O((0,l._)((0,r._)({},P),{[e]:s}))},$=()=>{O({query:"",location:"",job_type:"",work_mode:"",min_experience:"",max_experience:"",min_salary:"",skills:"",freshness:"",sort_by:"created_at",limit:12}),M(1),setTimeout(R,100)},D=e=>({"full-time":"Full Time","part-time":"Part Time",contract:"Contract",internship:"Internship",freelance:"Freelance"})[e]||e,H=e=>({onsite:"On-site",remote:"Remote",hybrid:"Hybrid"})[e]||e,I=(e,s)=>e&&s?"$".concat((e/1e3).toFixed(0),"k - $").concat((s/1e3).toFixed(0),"k"):e?"$".concat((e/1e3).toFixed(0),"k+"):"Not specified",W=e=>0===e?"Today":1===e?"Yesterday":e<7?"".concat(e," days ago"):e<30?"".concat(Math.floor(e/7)," weeks ago"):"".concat(Math.floor(e/30)," months ago");return a?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,t.jsxs)(c.Z,{children:[(0,t.jsx)("div",{className:"p-8",children:(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Find Your Dream Job"}),(0,t.jsx)("p",{className:"text-blue-100 mb-6",children:"Discover opportunities from top companies"}),(0,t.jsx)("form",{onSubmit:J,className:"bg-white rounded-lg shadow-lg p-4",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)("input",{type:"text",placeholder:"Job title, keywords, or company",value:P.query,onChange:e=>L("query",e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)("input",{type:"text",placeholder:"City, state, or country",value:P.location,onChange:e=>L("location",e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsx)("button",{type:"submit",disabled:w,className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:w?"Searching...":"Search"}),(0,t.jsxs)("button",{type:"button",onClick:()=>E(!A),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-2",children:[(0,t.jsx)(u.Z,{className:"h-5 w-5"}),"Filters"]})]})}),A&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Advanced Filters"}),(0,t.jsxs)("button",{onClick:$,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4"}),"Clear All"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Type"}),(0,t.jsxs)("select",{value:P.job_type,onChange:e=>L("job_type",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"All Types"}),(0,t.jsx)("option",{value:"full-time",children:"Full Time"}),(0,t.jsx)("option",{value:"part-time",children:"Part Time"}),(0,t.jsx)("option",{value:"contract",children:"Contract"}),(0,t.jsx)("option",{value:"internship",children:"Internship"}),(0,t.jsx)("option",{value:"freelance",children:"Freelance"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Mode"}),(0,t.jsxs)("select",{value:P.work_mode,onChange:e=>L("work_mode",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"All Modes"}),(0,t.jsx)("option",{value:"onsite",children:"On-site"}),(0,t.jsx)("option",{value:"remote",children:"Remote"}),(0,t.jsx)("option",{value:"hybrid",children:"Hybrid"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Experience (years)"}),(0,t.jsx)("input",{type:"number",placeholder:"0",min:"0",value:P.min_experience,onChange:e=>L("min_experience",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Experience (years)"}),(0,t.jsx)("input",{type:"number",placeholder:"Any",min:"0",value:P.max_experience,onChange:e=>L("max_experience",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Salary ($)"}),(0,t.jsx)("input",{type:"number",placeholder:"Any",min:"0",step:"1000",value:P.min_salary,onChange:e=>L("min_salary",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Posted Within"}),(0,t.jsxs)("select",{value:P.freshness,onChange:e=>L("freshness",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"Any Time"}),(0,t.jsx)("option",{value:"1",children:"Last 24 hours"}),(0,t.jsx)("option",{value:"7",children:"Last 7 days"}),(0,t.jsx)("option",{value:"14",children:"Last 14 days"}),(0,t.jsx)("option",{value:"30",children:"Last 30 days"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills (comma-separated)"}),(0,t.jsx)("input",{type:"text",placeholder:"e.g., React, Node.js, Python",value:P.skills,onChange:e=>L("skills",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),(0,t.jsxs)("select",{value:P.sort_by,onChange:e=>L("sort_by",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"created_at",children:"Most Recent"}),(0,t.jsx)("option",{value:"min_salary",children:"Highest Salary"})]})]})]}),(0,t.jsx)("div",{className:"mt-6 flex justify-end",children:(0,t.jsx)("button",{onClick:J,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Apply Filters"})})]})]})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:w?"Searching...":"".concat(S," Jobs Found")}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:Z>1&&"Page ".concat(Z," of ").concat(T)})]})}),w?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 animate-pulse",children:[(0,t.jsx)("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]},e))}):0===k.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(b.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No jobs found"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search criteria"}),(0,t.jsx)("button",{onClick:$,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Clear Filters"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(e=>(0,t.jsxs)(d.default,{href:"/jobs/".concat(e.id),className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow p-6 border border-gray-200 hover:border-blue-500",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2 hover:text-blue-600 transition-colors",children:e.job_title}),(0,t.jsxs)("div",{className:"flex items-center text-gray-600 mb-3",children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),(0,t.jsx)("span",{className:"font-medium",children:e.company_name})]}),(0,t.jsxs)("div",{className:"flex items-center text-gray-600 mb-3",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),(0,t.jsx)("span",{children:e.location}),(0,t.jsx)("span",{className:"mx-2",children:"â€¢"}),(0,t.jsx)("span",{className:"text-sm",children:H(e.work_mode)})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,t.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:D(e.job_type)}),void 0!==e.min_experience&&(0,t.jsxs)("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:[e.min_experience,"-",e.max_experience||"+"," years"]})]}),e.min_salary&&(0,t.jsxs)("div",{className:"flex items-center text-gray-700 mb-3",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 mr-1"}),(0,t.jsx)("span",{className:"font-semibold",children:I(e.min_salary,e.max_salary)})]}),e.required_skills&&e.required_skills.length>0&&(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.required_skills.slice(0,3).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-xs font-medium",children:e},s)),e.required_skills.length>3&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-gray-50 text-gray-600 rounded text-xs",children:["+",e.required_skills.length-3," more"]})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 text-sm text-gray-500",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(y.Z,{className:"h-4 w-4 mr-1"}),(0,t.jsx)("span",{children:W(e.freshness_days)})]}),e.applications_count>0&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 mr-1"}),(0,t.jsxs)("span",{children:[e.applications_count," applicants"]})]})]})]},e.id))}),T>1&&(0,t.jsxs)("div",{className:"flex justify-center items-center gap-4 mt-12",children:[(0,t.jsxs)("button",{onClick:()=>M(e=>Math.max(1,e-1)),disabled:1===Z,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4"}),"Previous"]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:[...Array(T)].map((e,s)=>{let a=s+1;return 1===a||a===T||a>=Z-1&&a<=Z+1?(0,t.jsx)("button",{onClick:()=>M(a),className:"px-4 py-2 rounded-lg ".concat(Z===a?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"),children:a},a):a===Z-2||a===Z+2?(0,t.jsx)("span",{children:"..."},a):null})}),(0,t.jsxs)("button",{onClick:()=>M(e=>Math.min(T,e+1)),disabled:Z===T,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:["Next",(0,t.jsx)(v.Z,{className:"h-4 w-4"})]})]})]})]})]})}}},function(e){e.O(0,[216,3464,6084,6661,2795,2971,2117,1744],function(){return e(e.s=32923)}),_N_E=e.O()}]);