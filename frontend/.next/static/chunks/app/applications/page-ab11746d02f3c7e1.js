(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1442],{41138:function(e,s,t){Promise.resolve().then(t.bind(t,38401))},38401:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var a=t(57437),l=t(2265),r=t(99376),c=t(22795),i=t(75864),d=t(27648),n=t(41671),o=t(99388),x=t(65690),m=t(5005),h=t(91723),b=t(98420),j=t(83774),u=t(31047),p=t(48736),g=t(42208);function f(){let e=(0,r.useRouter)(),[s,t]=(0,l.useState)(null),[f,N]=(0,l.useState)([]),[w,y]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{try{let s=await i.Z.get("/auth/me");if("jobseeker"!==s.data.role){e.push("/dashboard");return}t(s.data);let a=await i.Z.get("/jobs/applications/my-applications");N(a.data||[])}catch(s){console.error("Failed to fetch applications:",s),e.push("/auth/login")}finally{y(!1)}})()},[e]);let v=e=>{switch(e){case"accepted":return(0,a.jsx)(n.Z,{className:"h-5 w-5 text-green-600"});case"rejected":return(0,a.jsx)(o.Z,{className:"h-5 w-5 text-red-600"});default:return(0,a.jsx)(x.Z,{className:"h-5 w-5 text-yellow-600"})}},Z=e=>{switch(e){case"accepted":return"Accepted";case"rejected":return"Rejected";default:return"Under Review"}},_=e=>{switch(e){case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";default:return"bg-yellow-50 text-yellow-700 border-yellow-200"}},k=e=>{let s=new Date(e),t=Math.floor(Math.abs(new Date-s)/864e5);return 0===t?"Today":1===t?"Yesterday":t<7?"".concat(t," days ago"):t<30?"".concat(Math.floor(t/7)," weeks ago"):s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};return w?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsx)(c.Z,{children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Applications"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Track and manage your job applications"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-600",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Applications"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:f.length})]}),(0,a.jsx)(m.Z,{className:"h-12 w-12 text-blue-600 opacity-20"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-yellow-600",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Under Review"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:f.filter(e=>"pending"===e.status).length})]}),(0,a.jsx)(h.Z,{className:"h-12 w-12 text-yellow-600 opacity-20"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-600",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Accepted"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:f.filter(e=>"accepted"===e.status).length})]}),(0,a.jsx)(n.Z,{className:"h-12 w-12 text-green-600 opacity-20"})]})})]}),0===f.length?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[(0,a.jsx)(m.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No applications yet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Start applying to jobs to track your applications here"}),(0,a.jsx)(d.default,{href:"/jobs",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Browse Jobs"})]}):(0,a.jsx)("div",{className:"space-y-4",children:f.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow border border-gray-200",children:(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("div",{className:"flex items-start gap-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(d.default,{href:"/jobs/".concat(e.job_id),className:"text-xl font-semibold text-gray-900 hover:text-blue-600 transition-colors mb-2 inline-block",children:e.job_title||"Job Title"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-gray-600 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:e.company_name||"Company"})]}),e.location&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:e.location})]})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsxs)("span",{children:["Applied ",k(e.applied_at)]})]}),e.cover_letter&&(0,a.jsxs)("details",{className:"mt-4",children:[(0,a.jsxs)("summary",{className:"text-sm text-blue-600 hover:text-blue-700 cursor-pointer flex items-center gap-1",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4"}),"View Cover Letter"]}),(0,a.jsx)("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200",children:(0,a.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:e.cover_letter})})]})]})})}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border ".concat(_(e.status)),children:[v(e.status),(0,a.jsx)("span",{className:"font-semibold",children:Z(e.status)})]}),(0,a.jsxs)(d.default,{href:"/jobs/".concat(e.job_id),className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4"}),"View Job"]})]})]})})},e.id))})]})})}}},function(e){e.O(0,[216,3464,6084,6379,2795,2971,2117,1744],function(){return e(e.s=41138)}),_N_E=e.O()}]);